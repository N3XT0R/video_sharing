function mr(t,e){return function(){return t.apply(e,arguments)}}const{toString:gi}=Object.prototype,{getPrototypeOf:Tn}=Object,{iterator:Bt,toStringTag:gr}=Symbol,Ht=(t=>e=>{const r=gi.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ye=t=>(t=t.toLowerCase(),e=>Ht(e)===t),Mt=t=>e=>typeof e===t,{isArray:Ve}=Array,at=Mt("undefined");function ut(t){return t!==null&&!at(t)&&t.constructor!==null&&!at(t.constructor)&&de(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const vr=ye("ArrayBuffer");function vi(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&vr(t.buffer),e}const bi=Mt("string"),de=Mt("function"),br=Mt("number"),lt=t=>t!==null&&typeof t=="object",yi=t=>t===!0||t===!1,Ot=t=>{if(Ht(t)!=="object")return!1;const e=Tn(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(gr in t)&&!(Bt in t)},wi=t=>{if(!lt(t)||ut(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Si=ye("Date"),Ci=ye("File"),_i=ye("Blob"),xi=ye("FileList"),Ei=t=>lt(t)&&de(t.pipe),ki=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||de(t.append)&&((e=Ht(t))==="formdata"||e==="object"&&de(t.toString)&&t.toString()==="[object FormData]"))},Ti=ye("URLSearchParams"),[Pi,Ai,Ri,Oi]=["ReadableStream","Request","Response","Headers"].map(ye),Li=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ht(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let o,a;if(typeof t!="object"&&(t=[t]),Ve(t))for(o=0,a=t.length;o<a;o++)e.call(null,t[o],o,t);else{if(ut(t))return;const l=r?Object.getOwnPropertyNames(t):Object.keys(t),u=l.length;let m;for(o=0;o<u;o++)m=l[o],e.call(null,t[m],m,t)}}function yr(t,e){if(ut(t))return null;e=e.toLowerCase();const r=Object.keys(t);let o=r.length,a;for(;o-- >0;)if(a=r[o],e===a.toLowerCase())return a;return null}const Ie=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wr=t=>!at(t)&&t!==Ie;function yn(){const{caseless:t}=wr(this)&&this||{},e={},r=(o,a)=>{const l=t&&yr(e,a)||a;Ot(e[l])&&Ot(o)?e[l]=yn(e[l],o):Ot(o)?e[l]=yn({},o):Ve(o)?e[l]=o.slice():e[l]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&ht(arguments[o],r);return e}const Ni=(t,e,r,{allOwnKeys:o}={})=>(ht(e,(a,l)=>{r&&de(a)?t[l]=mr(a,r):t[l]=a},{allOwnKeys:o}),t),Di=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ui=(t,e,r,o)=>{t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},ji=(t,e,r,o)=>{let a,l,u;const m={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)u=a[l],(!o||o(u,t,e))&&!m[u]&&(e[u]=t[u],m[u]=!0);t=r!==!1&&Tn(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Ii=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const o=t.indexOf(e,r);return o!==-1&&o===r},Fi=t=>{if(!t)return null;if(Ve(t))return t;let e=t.length;if(!br(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Bi=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Tn(Uint8Array)),Hi=(t,e)=>{const o=(t&&t[Bt]).call(t);let a;for(;(a=o.next())&&!a.done;){const l=a.value;e.call(t,l[0],l[1])}},Mi=(t,e)=>{let r;const o=[];for(;(r=t.exec(e))!==null;)o.push(r);return o},qi=ye("HTMLFormElement"),zi=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,a){return o.toUpperCase()+a}),Wn=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Vi=ye("RegExp"),Sr=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),o={};ht(r,(a,l)=>{let u;(u=e(a,l,t))!==!1&&(o[l]=u||a)}),Object.defineProperties(t,o)},$i=t=>{Sr(t,(e,r)=>{if(de(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=t[r];if(de(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Ji=(t,e)=>{const r={},o=a=>{a.forEach(l=>{r[l]=!0})};return Ve(t)?o(t):o(String(t).split(e)),r},Xi=()=>{},Wi=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Ki(t){return!!(t&&de(t.append)&&t[gr]==="FormData"&&t[Bt])}const Gi=t=>{const e=new Array(10),r=(o,a)=>{if(lt(o)){if(e.indexOf(o)>=0)return;if(ut(o))return o;if(!("toJSON"in o)){e[a]=o;const l=Ve(o)?[]:{};return ht(o,(u,m)=>{const w=r(u,a+1);!at(w)&&(l[m]=w)}),e[a]=void 0,l}}return o};return r(t,0)},Qi=ye("AsyncFunction"),Yi=t=>t&&(lt(t)||de(t))&&de(t.then)&&de(t.catch),Cr=((t,e)=>t?setImmediate:e?((r,o)=>(Ie.addEventListener("message",({source:a,data:l})=>{a===Ie&&l===r&&o.length&&o.shift()()},!1),a=>{o.push(a),Ie.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",de(Ie.postMessage)),Zi=typeof queueMicrotask<"u"?queueMicrotask.bind(Ie):typeof process<"u"&&process.nextTick||Cr,eo=t=>t!=null&&de(t[Bt]),b={isArray:Ve,isArrayBuffer:vr,isBuffer:ut,isFormData:ki,isArrayBufferView:vi,isString:bi,isNumber:br,isBoolean:yi,isObject:lt,isPlainObject:Ot,isEmptyObject:wi,isReadableStream:Pi,isRequest:Ai,isResponse:Ri,isHeaders:Oi,isUndefined:at,isDate:Si,isFile:Ci,isBlob:_i,isRegExp:Vi,isFunction:de,isStream:Ei,isURLSearchParams:Ti,isTypedArray:Bi,isFileList:xi,forEach:ht,merge:yn,extend:Ni,trim:Li,stripBOM:Di,inherits:Ui,toFlatObject:ji,kindOf:Ht,kindOfTest:ye,endsWith:Ii,toArray:Fi,forEachEntry:Hi,matchAll:Mi,isHTMLForm:qi,hasOwnProperty:Wn,hasOwnProp:Wn,reduceDescriptors:Sr,freezeMethods:$i,toObjectSet:Ji,toCamelCase:zi,noop:Xi,toFiniteNumber:Wi,findKey:yr,global:Ie,isContextDefined:wr,isSpecCompliantForm:Ki,toJSONObject:Gi,isAsyncFn:Qi,isThenable:Yi,setImmediate:Cr,asap:Zi,isIterable:eo};function B(t,e,r,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),o&&(this.request=o),a&&(this.response=a,this.status=a.status?a.status:null)}b.inherits(B,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.status}}});const _r=B.prototype,xr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{xr[t]={value:t}});Object.defineProperties(B,xr);Object.defineProperty(_r,"isAxiosError",{value:!0});B.from=(t,e,r,o,a,l)=>{const u=Object.create(_r);return b.toFlatObject(t,u,function(w){return w!==Error.prototype},m=>m!=="isAxiosError"),B.call(u,t.message,e,r,o,a),u.cause=t,u.name=t.name,l&&Object.assign(u,l),u};const to=null;function wn(t){return b.isPlainObject(t)||b.isArray(t)}function Er(t){return b.endsWith(t,"[]")?t.slice(0,-2):t}function Kn(t,e,r){return t?t.concat(e).map(function(a,l){return a=Er(a),!r&&l?"["+a+"]":a}).join(r?".":""):e}function no(t){return b.isArray(t)&&!t.some(wn)}const ro=b.toFlatObject(b,{},null,function(e){return/^is[A-Z]/.test(e)});function qt(t,e,r){if(!b.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=b.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,g){return!b.isUndefined(g[C])});const o=r.metaTokens,a=r.visitor||y,l=r.dots,u=r.indexes,w=(r.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(e);if(!b.isFunction(a))throw new TypeError("visitor must be a function");function v(E){if(E===null)return"";if(b.isDate(E))return E.toISOString();if(b.isBoolean(E))return E.toString();if(!w&&b.isBlob(E))throw new B("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(E)||b.isTypedArray(E)?w&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function y(E,C,g){let k=E;if(E&&!g&&typeof E=="object"){if(b.endsWith(C,"{}"))C=o?C:C.slice(0,-2),E=JSON.stringify(E);else if(b.isArray(E)&&no(E)||(b.isFileList(E)||b.endsWith(C,"[]"))&&(k=b.toArray(E)))return C=Er(C),k.forEach(function(j,M){!(b.isUndefined(j)||j===null)&&e.append(u===!0?Kn([C],M,l):u===null?C:C+"[]",v(j))}),!1}return wn(E)?!0:(e.append(Kn(g,C,l),v(E)),!1)}const _=[],O=Object.assign(ro,{defaultVisitor:y,convertValue:v,isVisitable:wn});function T(E,C){if(!b.isUndefined(E)){if(_.indexOf(E)!==-1)throw Error("Circular reference detected in "+C.join("."));_.push(E),b.forEach(E,function(k,L){(!(b.isUndefined(k)||k===null)&&a.call(e,k,b.isString(L)?L.trim():L,C,O))===!0&&T(k,C?C.concat(L):[L])}),_.pop()}}if(!b.isObject(t))throw new TypeError("data must be an object");return T(t),e}function Gn(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function Pn(t,e){this._pairs=[],t&&qt(t,this,e)}const kr=Pn.prototype;kr.append=function(e,r){this._pairs.push([e,r])};kr.toString=function(e){const r=e?function(o){return e.call(this,o,Gn)}:Gn;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function so(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Tr(t,e,r){if(!e)return t;const o=r&&r.encode||so;b.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let l;if(a?l=a(e,r):l=b.isURLSearchParams(e)?e.toString():new Pn(e,r).toString(o),l){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class Qn{constructor(){this.handlers=[]}use(e,r,o){return this.handlers.push({fulfilled:e,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){b.forEach(this.handlers,function(o){o!==null&&e(o)})}}const Pr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},io=typeof URLSearchParams<"u"?URLSearchParams:Pn,oo=typeof FormData<"u"?FormData:null,ao=typeof Blob<"u"?Blob:null,co={isBrowser:!0,classes:{URLSearchParams:io,FormData:oo,Blob:ao},protocols:["http","https","file","blob","url","data"]},An=typeof window<"u"&&typeof document<"u",Sn=typeof navigator=="object"&&navigator||void 0,uo=An&&(!Sn||["ReactNative","NativeScript","NS"].indexOf(Sn.product)<0),lo=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ho=An&&window.location.href||"http://localhost",fo=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:An,hasStandardBrowserEnv:uo,hasStandardBrowserWebWorkerEnv:lo,navigator:Sn,origin:ho},Symbol.toStringTag,{value:"Module"})),le={...fo,...co};function po(t,e){return qt(t,new le.classes.URLSearchParams,{visitor:function(r,o,a,l){return le.isNode&&b.isBuffer(r)?(this.append(o,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...e})}function mo(t){return b.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function go(t){const e={},r=Object.keys(t);let o;const a=r.length;let l;for(o=0;o<a;o++)l=r[o],e[l]=t[l];return e}function Ar(t){function e(r,o,a,l){let u=r[l++];if(u==="__proto__")return!0;const m=Number.isFinite(+u),w=l>=r.length;return u=!u&&b.isArray(a)?a.length:u,w?(b.hasOwnProp(a,u)?a[u]=[a[u],o]:a[u]=o,!m):((!a[u]||!b.isObject(a[u]))&&(a[u]=[]),e(r,o,a[u],l)&&b.isArray(a[u])&&(a[u]=go(a[u])),!m)}if(b.isFormData(t)&&b.isFunction(t.entries)){const r={};return b.forEachEntry(t,(o,a)=>{e(mo(o),a,r,0)}),r}return null}function vo(t,e,r){if(b.isString(t))try{return(e||JSON.parse)(t),b.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(t)}const ft={transitional:Pr,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const o=r.getContentType()||"",a=o.indexOf("application/json")>-1,l=b.isObject(e);if(l&&b.isHTMLForm(e)&&(e=new FormData(e)),b.isFormData(e))return a?JSON.stringify(Ar(e)):e;if(b.isArrayBuffer(e)||b.isBuffer(e)||b.isStream(e)||b.isFile(e)||b.isBlob(e)||b.isReadableStream(e))return e;if(b.isArrayBufferView(e))return e.buffer;if(b.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(l){if(o.indexOf("application/x-www-form-urlencoded")>-1)return po(e,this.formSerializer).toString();if((m=b.isFileList(e))||o.indexOf("multipart/form-data")>-1){const w=this.env&&this.env.FormData;return qt(m?{"files[]":e}:e,w&&new w,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),vo(e)):e}],transformResponse:[function(e){const r=this.transitional||ft.transitional,o=r&&r.forcedJSONParsing,a=this.responseType==="json";if(b.isResponse(e)||b.isReadableStream(e))return e;if(e&&b.isString(e)&&(o&&!this.responseType||a)){const u=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(m){if(u)throw m.name==="SyntaxError"?B.from(m,B.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:le.classes.FormData,Blob:le.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};b.forEach(["delete","get","head","post","put","patch"],t=>{ft.headers[t]={}});const bo=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yo=t=>{const e={};let r,o,a;return t&&t.split(`
`).forEach(function(u){a=u.indexOf(":"),r=u.substring(0,a).trim().toLowerCase(),o=u.substring(a+1).trim(),!(!r||e[r]&&bo[r])&&(r==="set-cookie"?e[r]?e[r].push(o):e[r]=[o]:e[r]=e[r]?e[r]+", "+o:o)}),e},Yn=Symbol("internals");function ot(t){return t&&String(t).trim().toLowerCase()}function Lt(t){return t===!1||t==null?t:b.isArray(t)?t.map(Lt):String(t)}function wo(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(t);)e[o[1]]=o[2];return e}const So=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function mn(t,e,r,o,a){if(b.isFunction(o))return o.call(this,e,r);if(a&&(e=r),!!b.isString(e)){if(b.isString(o))return e.indexOf(o)!==-1;if(b.isRegExp(o))return o.test(e)}}function Co(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,o)=>r.toUpperCase()+o)}function _o(t,e){const r=b.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+r,{value:function(a,l,u){return this[o].call(this,e,a,l,u)},configurable:!0})})}let pe=class{constructor(e){e&&this.set(e)}set(e,r,o){const a=this;function l(m,w,v){const y=ot(w);if(!y)throw new Error("header name must be a non-empty string");const _=b.findKey(a,y);(!_||a[_]===void 0||v===!0||v===void 0&&a[_]!==!1)&&(a[_||w]=Lt(m))}const u=(m,w)=>b.forEach(m,(v,y)=>l(v,y,w));if(b.isPlainObject(e)||e instanceof this.constructor)u(e,r);else if(b.isString(e)&&(e=e.trim())&&!So(e))u(yo(e),r);else if(b.isObject(e)&&b.isIterable(e)){let m={},w,v;for(const y of e){if(!b.isArray(y))throw TypeError("Object iterator must return a key-value pair");m[v=y[0]]=(w=m[v])?b.isArray(w)?[...w,y[1]]:[w,y[1]]:y[1]}u(m,r)}else e!=null&&l(r,e,o);return this}get(e,r){if(e=ot(e),e){const o=b.findKey(this,e);if(o){const a=this[o];if(!r)return a;if(r===!0)return wo(a);if(b.isFunction(r))return r.call(this,a,o);if(b.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ot(e),e){const o=b.findKey(this,e);return!!(o&&this[o]!==void 0&&(!r||mn(this,this[o],o,r)))}return!1}delete(e,r){const o=this;let a=!1;function l(u){if(u=ot(u),u){const m=b.findKey(o,u);m&&(!r||mn(o,o[m],m,r))&&(delete o[m],a=!0)}}return b.isArray(e)?e.forEach(l):l(e),a}clear(e){const r=Object.keys(this);let o=r.length,a=!1;for(;o--;){const l=r[o];(!e||mn(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const r=this,o={};return b.forEach(this,(a,l)=>{const u=b.findKey(o,l);if(u){r[u]=Lt(a),delete r[l];return}const m=e?Co(l):String(l).trim();m!==l&&delete r[l],r[m]=Lt(a),o[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return b.forEach(this,(o,a)=>{o!=null&&o!==!1&&(r[a]=e&&b.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const o=new this(e);return r.forEach(a=>o.set(a)),o}static accessor(e){const o=(this[Yn]=this[Yn]={accessors:{}}).accessors,a=this.prototype;function l(u){const m=ot(u);o[m]||(_o(a,u),o[m]=!0)}return b.isArray(e)?e.forEach(l):l(e),this}};pe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);b.reduceDescriptors(pe.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(o){this[r]=o}}});b.freezeMethods(pe);function gn(t,e){const r=this||ft,o=e||r,a=pe.from(o.headers);let l=o.data;return b.forEach(t,function(m){l=m.call(r,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function Rr(t){return!!(t&&t.__CANCEL__)}function $e(t,e,r){B.call(this,t??"canceled",B.ERR_CANCELED,e,r),this.name="CanceledError"}b.inherits($e,B,{__CANCEL__:!0});function Or(t,e,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?t(r):e(new B("Request failed with status code "+r.status,[B.ERR_BAD_REQUEST,B.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function xo(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Eo(t,e){t=t||10;const r=new Array(t),o=new Array(t);let a=0,l=0,u;return e=e!==void 0?e:1e3,function(w){const v=Date.now(),y=o[l];u||(u=v),r[a]=w,o[a]=v;let _=l,O=0;for(;_!==a;)O+=r[_++],_=_%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),v-u<e)return;const T=y&&v-y;return T?Math.round(O*1e3/T):void 0}}function ko(t,e){let r=0,o=1e3/e,a,l;const u=(v,y=Date.now())=>{r=y,a=null,l&&(clearTimeout(l),l=null),t(...v)};return[(...v)=>{const y=Date.now(),_=y-r;_>=o?u(v,y):(a=v,l||(l=setTimeout(()=>{l=null,u(a)},o-_)))},()=>a&&u(a)]}const Ut=(t,e,r=3)=>{let o=0;const a=Eo(50,250);return ko(l=>{const u=l.loaded,m=l.lengthComputable?l.total:void 0,w=u-o,v=a(w),y=u<=m;o=u;const _={loaded:u,total:m,progress:m?u/m:void 0,bytes:w,rate:v||void 0,estimated:v&&m&&y?(m-u)/v:void 0,event:l,lengthComputable:m!=null,[e?"download":"upload"]:!0};t(_)},r)},Zn=(t,e)=>{const r=t!=null;return[o=>e[0]({lengthComputable:r,total:t,loaded:o}),e[1]]},er=t=>(...e)=>b.asap(()=>t(...e)),To=le.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,le.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(le.origin),le.navigator&&/(msie|trident)/i.test(le.navigator.userAgent)):()=>!0,Po=le.hasStandardBrowserEnv?{write(t,e,r,o,a,l){const u=[t+"="+encodeURIComponent(e)];b.isNumber(r)&&u.push("expires="+new Date(r).toGMTString()),b.isString(o)&&u.push("path="+o),b.isString(a)&&u.push("domain="+a),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ao(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ro(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Lr(t,e,r){let o=!Ao(e);return t&&(o||r==!1)?Ro(t,e):e}const tr=t=>t instanceof pe?{...t}:t;function Be(t,e){e=e||{};const r={};function o(v,y,_,O){return b.isPlainObject(v)&&b.isPlainObject(y)?b.merge.call({caseless:O},v,y):b.isPlainObject(y)?b.merge({},y):b.isArray(y)?y.slice():y}function a(v,y,_,O){if(b.isUndefined(y)){if(!b.isUndefined(v))return o(void 0,v,_,O)}else return o(v,y,_,O)}function l(v,y){if(!b.isUndefined(y))return o(void 0,y)}function u(v,y){if(b.isUndefined(y)){if(!b.isUndefined(v))return o(void 0,v)}else return o(void 0,y)}function m(v,y,_){if(_ in e)return o(v,y);if(_ in t)return o(void 0,v)}const w={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:m,headers:(v,y,_)=>a(tr(v),tr(y),_,!0)};return b.forEach(Object.keys({...t,...e}),function(y){const _=w[y]||a,O=_(t[y],e[y],y);b.isUndefined(O)&&_!==m||(r[y]=O)}),r}const Nr=t=>{const e=Be({},t);let{data:r,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:l,headers:u,auth:m}=e;e.headers=u=pe.from(u),e.url=Tr(Lr(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),m&&u.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let w;if(b.isFormData(r)){if(le.hasStandardBrowserEnv||le.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((w=u.getContentType())!==!1){const[v,...y]=w?w.split(";").map(_=>_.trim()).filter(Boolean):[];u.setContentType([v||"multipart/form-data",...y].join("; "))}}if(le.hasStandardBrowserEnv&&(o&&b.isFunction(o)&&(o=o(e)),o||o!==!1&&To(e.url))){const v=a&&l&&Po.read(l);v&&u.set(a,v)}return e},Oo=typeof XMLHttpRequest<"u",Lo=Oo&&function(t){return new Promise(function(r,o){const a=Nr(t);let l=a.data;const u=pe.from(a.headers).normalize();let{responseType:m,onUploadProgress:w,onDownloadProgress:v}=a,y,_,O,T,E;function C(){T&&T(),E&&E(),a.cancelToken&&a.cancelToken.unsubscribe(y),a.signal&&a.signal.removeEventListener("abort",y)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function k(){if(!g)return;const j=pe.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),H={data:!m||m==="text"||m==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:j,config:t,request:g};Or(function(ie){r(ie),C()},function(ie){o(ie),C()},H),g=null}"onloadend"in g?g.onloadend=k:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(k)},g.onabort=function(){g&&(o(new B("Request aborted",B.ECONNABORTED,t,g)),g=null)},g.onerror=function(){o(new B("Network Error",B.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let M=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const H=a.transitional||Pr;a.timeoutErrorMessage&&(M=a.timeoutErrorMessage),o(new B(M,H.clarifyTimeoutError?B.ETIMEDOUT:B.ECONNABORTED,t,g)),g=null},l===void 0&&u.setContentType(null),"setRequestHeader"in g&&b.forEach(u.toJSON(),function(M,H){g.setRequestHeader(H,M)}),b.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),m&&m!=="json"&&(g.responseType=a.responseType),v&&([O,E]=Ut(v,!0),g.addEventListener("progress",O)),w&&g.upload&&([_,T]=Ut(w),g.upload.addEventListener("progress",_),g.upload.addEventListener("loadend",T)),(a.cancelToken||a.signal)&&(y=j=>{g&&(o(!j||j.type?new $e(null,t,g):j),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(y),a.signal&&(a.signal.aborted?y():a.signal.addEventListener("abort",y)));const L=xo(a.url);if(L&&le.protocols.indexOf(L)===-1){o(new B("Unsupported protocol "+L+":",B.ERR_BAD_REQUEST,t));return}g.send(l||null)})},No=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let o=new AbortController,a;const l=function(v){if(!a){a=!0,m();const y=v instanceof Error?v:this.reason;o.abort(y instanceof B?y:new $e(y instanceof Error?y.message:y))}};let u=e&&setTimeout(()=>{u=null,l(new B(`timeout ${e} of ms exceeded`,B.ETIMEDOUT))},e);const m=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(v=>{v.unsubscribe?v.unsubscribe(l):v.removeEventListener("abort",l)}),t=null)};t.forEach(v=>v.addEventListener("abort",l));const{signal:w}=o;return w.unsubscribe=()=>b.asap(m),w}},Do=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let o=0,a;for(;o<r;)a=o+e,yield t.slice(o,a),o=a},Uo=async function*(t,e){for await(const r of jo(t))yield*Do(r,e)},jo=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:o}=await e.read();if(r)break;yield o}}finally{await e.cancel()}},nr=(t,e,r,o)=>{const a=Uo(t,e);let l=0,u,m=w=>{u||(u=!0,o&&o(w))};return new ReadableStream({async pull(w){try{const{done:v,value:y}=await a.next();if(v){m(),w.close();return}let _=y.byteLength;if(r){let O=l+=_;r(O)}w.enqueue(new Uint8Array(y))}catch(v){throw m(v),v}},cancel(w){return m(w),a.return()}},{highWaterMark:2})},zt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Dr=zt&&typeof ReadableStream=="function",Io=zt&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Ur=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Fo=Dr&&Ur(()=>{let t=!1;const e=new Request(le.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),rr=64*1024,Cn=Dr&&Ur(()=>b.isReadableStream(new Response("").body)),jt={stream:Cn&&(t=>t.body)};zt&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!jt[e]&&(jt[e]=b.isFunction(t[e])?r=>r[e]():(r,o)=>{throw new B(`Response type '${e}' is not supported`,B.ERR_NOT_SUPPORT,o)})})})(new Response);const Bo=async t=>{if(t==null)return 0;if(b.isBlob(t))return t.size;if(b.isSpecCompliantForm(t))return(await new Request(le.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(b.isArrayBufferView(t)||b.isArrayBuffer(t))return t.byteLength;if(b.isURLSearchParams(t)&&(t=t+""),b.isString(t))return(await Io(t)).byteLength},Ho=async(t,e)=>{const r=b.toFiniteNumber(t.getContentLength());return r??Bo(e)},Mo=zt&&(async t=>{let{url:e,method:r,data:o,signal:a,cancelToken:l,timeout:u,onDownloadProgress:m,onUploadProgress:w,responseType:v,headers:y,withCredentials:_="same-origin",fetchOptions:O}=Nr(t);v=v?(v+"").toLowerCase():"text";let T=No([a,l&&l.toAbortSignal()],u),E;const C=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let g;try{if(w&&Fo&&r!=="get"&&r!=="head"&&(g=await Ho(y,o))!==0){let H=new Request(e,{method:"POST",body:o,duplex:"half"}),G;if(b.isFormData(o)&&(G=H.headers.get("content-type"))&&y.setContentType(G),H.body){const[ie,X]=Zn(g,Ut(er(w)));o=nr(H.body,rr,ie,X)}}b.isString(_)||(_=_?"include":"omit");const k="credentials"in Request.prototype;E=new Request(e,{...O,signal:T,method:r.toUpperCase(),headers:y.normalize().toJSON(),body:o,duplex:"half",credentials:k?_:void 0});let L=await fetch(E,O);const j=Cn&&(v==="stream"||v==="response");if(Cn&&(m||j&&C)){const H={};["status","statusText","headers"].forEach(fe=>{H[fe]=L[fe]});const G=b.toFiniteNumber(L.headers.get("content-length")),[ie,X]=m&&Zn(G,Ut(er(m),!0))||[];L=new Response(nr(L.body,rr,ie,()=>{X&&X(),C&&C()}),H)}v=v||"text";let M=await jt[b.findKey(jt,v)||"text"](L,t);return!j&&C&&C(),await new Promise((H,G)=>{Or(H,G,{data:M,headers:pe.from(L.headers),status:L.status,statusText:L.statusText,config:t,request:E})})}catch(k){throw C&&C(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new B("Network Error",B.ERR_NETWORK,t,E),{cause:k.cause||k}):B.from(k,k&&k.code,t,E)}}),_n={http:to,xhr:Lo,fetch:Mo};b.forEach(_n,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const sr=t=>`- ${t}`,qo=t=>b.isFunction(t)||t===null||t===!1,jr={getAdapter:t=>{t=b.isArray(t)?t:[t];const{length:e}=t;let r,o;const a={};for(let l=0;l<e;l++){r=t[l];let u;if(o=r,!qo(r)&&(o=_n[(u=String(r)).toLowerCase()],o===void 0))throw new B(`Unknown adapter '${u}'`);if(o)break;a[u||"#"+l]=o}if(!o){const l=Object.entries(a).map(([m,w])=>`adapter ${m} `+(w===!1?"is not supported by the environment":"is not available in the build"));let u=e?l.length>1?`since :
`+l.map(sr).join(`
`):" "+sr(l[0]):"as no adapter specified";throw new B("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return o},adapters:_n};function vn(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new $e(null,t)}function ir(t){return vn(t),t.headers=pe.from(t.headers),t.data=gn.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),jr.getAdapter(t.adapter||ft.adapter)(t).then(function(o){return vn(t),o.data=gn.call(t,t.transformResponse,o),o.headers=pe.from(o.headers),o},function(o){return Rr(o)||(vn(t),o&&o.response&&(o.response.data=gn.call(t,t.transformResponse,o.response),o.response.headers=pe.from(o.response.headers))),Promise.reject(o)})}const Ir="1.11.0",Vt={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Vt[t]=function(o){return typeof o===t||"a"+(e<1?"n ":" ")+t}});const or={};Vt.transitional=function(e,r,o){function a(l,u){return"[Axios v"+Ir+"] Transitional option '"+l+"'"+u+(o?". "+o:"")}return(l,u,m)=>{if(e===!1)throw new B(a(u," has been removed"+(r?" in "+r:"")),B.ERR_DEPRECATED);return r&&!or[u]&&(or[u]=!0,console.warn(a(u," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(l,u,m):!0}};Vt.spelling=function(e){return(r,o)=>(console.warn(`${o} is likely a misspelling of ${e}`),!0)};function zo(t,e,r){if(typeof t!="object")throw new B("options must be an object",B.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let a=o.length;for(;a-- >0;){const l=o[a],u=e[l];if(u){const m=t[l],w=m===void 0||u(m,l,t);if(w!==!0)throw new B("option "+l+" must be "+w,B.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new B("Unknown option "+l,B.ERR_BAD_OPTION)}}const Nt={assertOptions:zo,validators:Vt},Ce=Nt.validators;let Fe=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Qn,response:new Qn}}async request(e,r){try{return await this._request(e,r)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?l&&!String(o.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+l):o.stack=l}catch{}}throw o}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Be(this.defaults,r);const{transitional:o,paramsSerializer:a,headers:l}=r;o!==void 0&&Nt.assertOptions(o,{silentJSONParsing:Ce.transitional(Ce.boolean),forcedJSONParsing:Ce.transitional(Ce.boolean),clarifyTimeoutError:Ce.transitional(Ce.boolean)},!1),a!=null&&(b.isFunction(a)?r.paramsSerializer={serialize:a}:Nt.assertOptions(a,{encode:Ce.function,serialize:Ce.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Nt.assertOptions(r,{baseUrl:Ce.spelling("baseURL"),withXsrfToken:Ce.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let u=l&&b.merge(l.common,l[r.method]);l&&b.forEach(["delete","get","head","post","put","patch","common"],E=>{delete l[E]}),r.headers=pe.concat(u,l);const m=[];let w=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(r)===!1||(w=w&&C.synchronous,m.unshift(C.fulfilled,C.rejected))});const v=[];this.interceptors.response.forEach(function(C){v.push(C.fulfilled,C.rejected)});let y,_=0,O;if(!w){const E=[ir.bind(this),void 0];for(E.unshift(...m),E.push(...v),O=E.length,y=Promise.resolve(r);_<O;)y=y.then(E[_++],E[_++]);return y}O=m.length;let T=r;for(_=0;_<O;){const E=m[_++],C=m[_++];try{T=E(T)}catch(g){C.call(this,g);break}}try{y=ir.call(this,T)}catch(E){return Promise.reject(E)}for(_=0,O=v.length;_<O;)y=y.then(v[_++],v[_++]);return y}getUri(e){e=Be(this.defaults,e);const r=Lr(e.baseURL,e.url,e.allowAbsoluteUrls);return Tr(r,e.params,e.paramsSerializer)}};b.forEach(["delete","get","head","options"],function(e){Fe.prototype[e]=function(r,o){return this.request(Be(o||{},{method:e,url:r,data:(o||{}).data}))}});b.forEach(["post","put","patch"],function(e){function r(o){return function(l,u,m){return this.request(Be(m||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}Fe.prototype[e]=r(),Fe.prototype[e+"Form"]=r(!0)});let Vo=class Fr{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const o=this;this.promise.then(a=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](a);o._listeners=null}),this.promise.then=a=>{let l;const u=new Promise(m=>{o.subscribe(m),l=m}).then(a);return u.cancel=function(){o.unsubscribe(l)},u},e(function(l,u,m){o.reason||(o.reason=new $e(l,u,m),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=o=>{e.abort(o)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Fr(function(a){e=a}),cancel:e}}};function $o(t){return function(r){return t.apply(null,r)}}function Jo(t){return b.isObject(t)&&t.isAxiosError===!0}const xn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xn).forEach(([t,e])=>{xn[e]=t});function Br(t){const e=new Fe(t),r=mr(Fe.prototype.request,e);return b.extend(r,Fe.prototype,e,{allOwnKeys:!0}),b.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return Br(Be(t,a))},r}const ee=Br(ft);ee.Axios=Fe;ee.CanceledError=$e;ee.CancelToken=Vo;ee.isCancel=Rr;ee.VERSION=Ir;ee.toFormData=qt;ee.AxiosError=B;ee.Cancel=ee.CanceledError;ee.all=function(e){return Promise.all(e)};ee.spread=$o;ee.isAxiosError=Jo;ee.mergeConfig=Be;ee.AxiosHeaders=pe;ee.formToJSON=t=>Ar(b.isHTMLForm(t)?new FormData(t):t);ee.getAdapter=jr.getAdapter;ee.HttpStatusCode=xn;ee.default=ee;const{Axios:Ga,AxiosError:Qa,CanceledError:Ya,isCancel:Za,CancelToken:ec,VERSION:tc,all:nc,Cancel:rc,isAxiosError:sc,spread:ic,toFormData:oc,AxiosHeaders:ac,HttpStatusCode:cc,formToJSON:uc,getAdapter:lc,mergeConfig:hc}=ee;class Rn{listenForWhisper(e,r){return this.listen(".client-"+e,r)}notification(e){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",e)}stopListeningForWhisper(e,r){return this.stopListening(".client-"+e,r)}}class Hr{constructor(e){this.namespace=e}format(e){return[".","\\"].includes(e.charAt(0))?e.substring(1):(this.namespace&&(e=this.namespace+"."+e),e.replace(/\./g,"\\"))}setNamespace(e){this.namespace=e}}function Xo(t){try{new t}catch(e){if(e instanceof Error&&e.message.includes("is not a constructor"))return!1}return!0}class On extends Rn{constructor(e,r,o){super(),this.name=r,this.pusher=e,this.options=o,this.eventFormatter=new Hr(this.options.namespace),this.subscribe()}subscribe(){this.subscription=this.pusher.subscribe(this.name)}unsubscribe(){this.pusher.unsubscribe(this.name)}listen(e,r){return this.on(this.eventFormatter.format(e),r),this}listenToAll(e){return this.subscription.bind_global((r,o)=>{if(r.startsWith("pusher:"))return;let a=String(this.options.namespace??"").replace(/\./g,"\\"),l=r.startsWith(a)?r.substring(a.length+1):"."+r;e(l,o)}),this}stopListening(e,r){return r?this.subscription.unbind(this.eventFormatter.format(e),r):this.subscription.unbind(this.eventFormatter.format(e)),this}stopListeningToAll(e){return e?this.subscription.unbind_global(e):this.subscription.unbind_global(),this}subscribed(e){return this.on("pusher:subscription_succeeded",()=>{e()}),this}error(e){return this.on("pusher:subscription_error",r=>{e(r)}),this}on(e,r){return this.subscription.bind(e,r),this}}class Mr extends On{whisper(e,r){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,r),this}}class Wo extends On{whisper(e,r){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,r),this}}class Ko extends Mr{here(e){return this.on("pusher:subscription_succeeded",r=>{e(Object.keys(r.members).map(o=>r.members[o]))}),this}joining(e){return this.on("pusher:member_added",r=>{e(r.info)}),this}whisper(e,r){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,r),this}leaving(e){return this.on("pusher:member_removed",r=>{e(r.info)}),this}}class qr extends Rn{constructor(e,r,o){super(),this.events={},this.listeners={},this.name=r,this.socket=e,this.options=o,this.eventFormatter=new Hr(this.options.namespace),this.subscribe()}subscribe(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}unsubscribe(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}listen(e,r){return this.on(this.eventFormatter.format(e),r),this}stopListening(e,r){return this.unbindEvent(this.eventFormatter.format(e),r),this}subscribed(e){return this.on("connect",r=>{e(r)}),this}error(e){return this}on(e,r){return this.listeners[e]=this.listeners[e]||[],this.events[e]||(this.events[e]=(o,a)=>{this.name===o&&this.listeners[e]&&this.listeners[e].forEach(l=>l(a))},this.socket.on(e,this.events[e])),this.listeners[e].push(r),this}unbind(){Object.keys(this.events).forEach(e=>{this.unbindEvent(e)})}unbindEvent(e,r){this.listeners[e]=this.listeners[e]||[],r&&(this.listeners[e]=this.listeners[e].filter(o=>o!==r)),(!r||this.listeners[e].length===0)&&(this.events[e]&&(this.socket.removeListener(e,this.events[e]),delete this.events[e]),delete this.listeners[e])}}class zr extends qr{whisper(e,r){return this.socket.emit("client event",{channel:this.name,event:`client-${e}`,data:r}),this}}class Go extends zr{here(e){return this.on("presence:subscribed",r=>{e(r.map(o=>o.user_info))}),this}joining(e){return this.on("presence:joining",r=>e(r.user_info)),this}whisper(e,r){return this.socket.emit("client event",{channel:this.name,event:`client-${e}`,data:r}),this}leaving(e){return this.on("presence:leaving",r=>e(r.user_info)),this}}class It extends Rn{subscribe(){}unsubscribe(){}listen(e,r){return this}listenToAll(e){return this}stopListening(e,r){return this}subscribed(e){return this}error(e){return this}on(e,r){return this}}class Vr extends It{whisper(e,r){return this}}class Qo extends It{whisper(e,r){return this}}class Yo extends Vr{here(e){return this}joining(e){return this}whisper(e,r){return this}leaving(e){return this}}const $r=class Jr{constructor(e){this.setOptions(e),this.connect()}setOptions(e){this.options={...Jr._defaultOptions,...e,broadcaster:e.broadcaster};let r=this.csrfToken();r&&(this.options.auth.headers["X-CSRF-TOKEN"]=r,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=r),r=this.options.bearerToken,r&&(this.options.auth.headers.Authorization="Bearer "+r,this.options.userAuthentication.headers.Authorization="Bearer "+r)}csrfToken(){var e,r;return typeof window<"u"&&(e=window.Laravel)!=null&&e.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"?((r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content"))??null:null}};$r._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"};let Ln=$r;class Rt extends Ln{constructor(){super(...arguments),this.channels={}}connect(){if(typeof this.options.client<"u")this.pusher=this.options.client;else if(this.options.Pusher)this.pusher=new this.options.Pusher(this.options.key,this.options);else if(typeof window<"u"&&typeof window.Pusher<"u")this.pusher=new window.Pusher(this.options.key,this.options);else throw new Error("Pusher client not found. Should be globally available or passed via options.client")}signin(){this.pusher.signin()}listen(e,r,o){return this.channel(e).listen(r,o)}channel(e){return this.channels[e]||(this.channels[e]=new On(this.pusher,e,this.options)),this.channels[e]}privateChannel(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new Mr(this.pusher,"private-"+e,this.options)),this.channels["private-"+e]}encryptedPrivateChannel(e){return this.channels["private-encrypted-"+e]||(this.channels["private-encrypted-"+e]=new Wo(this.pusher,"private-encrypted-"+e,this.options)),this.channels["private-encrypted-"+e]}presenceChannel(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new Ko(this.pusher,"presence-"+e,this.options)),this.channels["presence-"+e]}leave(e){[e,"private-"+e,"private-encrypted-"+e,"presence-"+e].forEach(r=>{this.leaveChannel(r)})}leaveChannel(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}socketId(){return this.pusher.connection.socket_id}disconnect(){this.pusher.disconnect()}}class Zo extends Ln{constructor(){super(...arguments),this.channels={}}connect(){let e=this.getSocketIO();this.socket=e(this.options.host??void 0,this.options),this.socket.io.on("reconnect",()=>{Object.values(this.channels).forEach(r=>{r.subscribe()})})}getSocketIO(){if(typeof this.options.client<"u")return this.options.client;if(typeof window<"u"&&typeof window.io<"u")return window.io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}listen(e,r,o){return this.channel(e).listen(r,o)}channel(e){return this.channels[e]||(this.channels[e]=new qr(this.socket,e,this.options)),this.channels[e]}privateChannel(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new zr(this.socket,"private-"+e,this.options)),this.channels["private-"+e]}presenceChannel(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new Go(this.socket,"presence-"+e,this.options)),this.channels["presence-"+e]}leave(e){[e,"private-"+e,"presence-"+e].forEach(r=>{this.leaveChannel(r)})}leaveChannel(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}socketId(){return this.socket.id}disconnect(){this.socket.disconnect()}}class ar extends Ln{constructor(){super(...arguments),this.channels={}}connect(){}listen(e,r,o){return new It}channel(e){return new It}privateChannel(e){return new Vr}encryptedPrivateChannel(e){return new Qo}presenceChannel(e){return new Yo}leave(e){}leaveChannel(e){}socketId(){return"fake-socket-id"}disconnect(){}}class ea{constructor(e){this.options=e,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}channel(e){return this.connector.channel(e)}connect(){if(this.options.broadcaster==="reverb")this.connector=new Rt({...this.options,cluster:""});else if(this.options.broadcaster==="pusher")this.connector=new Rt(this.options);else if(this.options.broadcaster==="ably")this.connector=new Rt({...this.options,cluster:"",broadcaster:"pusher"});else if(this.options.broadcaster==="socket.io")this.connector=new Zo(this.options);else if(this.options.broadcaster==="null")this.connector=new ar(this.options);else if(typeof this.options.broadcaster=="function"&&Xo(this.options.broadcaster))this.connector=new this.options.broadcaster(this.options);else throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} is not supported.`)}disconnect(){this.connector.disconnect()}join(e){return this.connector.presenceChannel(e)}leave(e){this.connector.leave(e)}leaveChannel(e){this.connector.leaveChannel(e)}leaveAllChannels(){for(const e in this.connector.channels)this.leaveChannel(e)}listen(e,r,o){return this.connector.listen(e,r,o)}private(e){return this.connector.privateChannel(e)}encryptedPrivate(e){if(this.connectorSupportsEncryptedPrivateChannels(this.connector))return this.connector.encryptedPrivateChannel(e);throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} does not support encrypted private channels.`)}connectorSupportsEncryptedPrivateChannels(e){return e instanceof Rt||e instanceof ar}socketId(){return this.connector.socketId()}registerInterceptors(){typeof Vue<"u"&&Vue!=null&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),typeof Turbo=="object"&&this.registerTurboRequestInterceptor()}registerVueRequestInterceptor(){Vue.http.interceptors.push((e,r)=>{this.socketId()&&e.headers.set("X-Socket-ID",this.socketId()),r()})}registerAxiosRequestInterceptor(){axios.interceptors.request.use(e=>(this.socketId()&&(e.headers["X-Socket-Id"]=this.socketId()),e))}registerjQueryAjaxSetup(){typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter((e,r,o)=>{this.socketId()&&o.setRequestHeader("X-Socket-Id",this.socketId())})}registerTurboRequestInterceptor(){document.addEventListener("turbo:before-fetch-request",e=>{e.detail.fetchOptions.headers["X-Socket-Id"]=this.socketId()})}}function ta(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bn={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */var cr;function na(){return cr||(cr=1,function(t,e){(function(o,a){t.exports=a()})(window,function(){return function(r){var o={};function a(l){if(o[l])return o[l].exports;var u=o[l]={i:l,l:!1,exports:{}};return r[l].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=r,a.c=o,a.d=function(l,u,m){a.o(l,u)||Object.defineProperty(l,u,{enumerable:!0,get:m})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,u){if(u&1&&(l=a(l)),u&8||u&4&&typeof l=="object"&&l&&l.__esModule)return l;var m=Object.create(null);if(a.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:l}),u&2&&typeof l!="string")for(var w in l)a.d(m,w,(function(v){return l[v]}).bind(null,w));return m},a.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(u,"a",u),u},a.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},a.p="",a(a.s=2)}([function(r,o,a){var l=this&&this.__extends||function(){var C=function(g,k){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,j){L.__proto__=j}||function(L,j){for(var M in j)j.hasOwnProperty(M)&&(L[M]=j[M])},C(g,k)};return function(g,k){C(g,k);function L(){this.constructor=g}g.prototype=k===null?Object.create(k):(L.prototype=k.prototype,new L)}}();Object.defineProperty(o,"__esModule",{value:!0});var u=256,m=function(){function C(g){g===void 0&&(g="="),this._paddingCharacter=g}return C.prototype.encodedLength=function(g){return this._paddingCharacter?(g+2)/3*4|0:(g*8+5)/6|0},C.prototype.encode=function(g){for(var k="",L=0;L<g.length-2;L+=3){var j=g[L]<<16|g[L+1]<<8|g[L+2];k+=this._encodeByte(j>>>18&63),k+=this._encodeByte(j>>>12&63),k+=this._encodeByte(j>>>6&63),k+=this._encodeByte(j>>>0&63)}var M=g.length-L;if(M>0){var j=g[L]<<16|(M===2?g[L+1]<<8:0);k+=this._encodeByte(j>>>18&63),k+=this._encodeByte(j>>>12&63),M===2?k+=this._encodeByte(j>>>6&63):k+=this._paddingCharacter||"",k+=this._paddingCharacter||""}return k},C.prototype.maxDecodedLength=function(g){return this._paddingCharacter?g/4*3|0:(g*6+7)/8|0},C.prototype.decodedLength=function(g){return this.maxDecodedLength(g.length-this._getPaddingLength(g))},C.prototype.decode=function(g){if(g.length===0)return new Uint8Array(0);for(var k=this._getPaddingLength(g),L=g.length-k,j=new Uint8Array(this.maxDecodedLength(L)),M=0,H=0,G=0,ie=0,X=0,fe=0,me=0;H<L-4;H+=4)ie=this._decodeChar(g.charCodeAt(H+0)),X=this._decodeChar(g.charCodeAt(H+1)),fe=this._decodeChar(g.charCodeAt(H+2)),me=this._decodeChar(g.charCodeAt(H+3)),j[M++]=ie<<2|X>>>4,j[M++]=X<<4|fe>>>2,j[M++]=fe<<6|me,G|=ie&u,G|=X&u,G|=fe&u,G|=me&u;if(H<L-1&&(ie=this._decodeChar(g.charCodeAt(H)),X=this._decodeChar(g.charCodeAt(H+1)),j[M++]=ie<<2|X>>>4,G|=ie&u,G|=X&u),H<L-2&&(fe=this._decodeChar(g.charCodeAt(H+2)),j[M++]=X<<4|fe>>>2,G|=fe&u),H<L-3&&(me=this._decodeChar(g.charCodeAt(H+3)),j[M++]=fe<<6|me,G|=me&u),G!==0)throw new Error("Base64Coder: incorrect characters for decoding");return j},C.prototype._encodeByte=function(g){var k=g;return k+=65,k+=25-g>>>8&6,k+=51-g>>>8&-75,k+=61-g>>>8&-15,k+=62-g>>>8&3,String.fromCharCode(k)},C.prototype._decodeChar=function(g){var k=u;return k+=(42-g&g-44)>>>8&-u+g-43+62,k+=(46-g&g-48)>>>8&-u+g-47+63,k+=(47-g&g-58)>>>8&-u+g-48+52,k+=(64-g&g-91)>>>8&-u+g-65+0,k+=(96-g&g-123)>>>8&-u+g-97+26,k},C.prototype._getPaddingLength=function(g){var k=0;if(this._paddingCharacter){for(var L=g.length-1;L>=0&&g[L]===this._paddingCharacter;L--)k++;if(g.length<4||k>2)throw new Error("Base64Coder: incorrect padding")}return k},C}();o.Coder=m;var w=new m;function v(C){return w.encode(C)}o.encode=v;function y(C){return w.decode(C)}o.decode=y;var _=function(C){l(g,C);function g(){return C!==null&&C.apply(this,arguments)||this}return g.prototype._encodeByte=function(k){var L=k;return L+=65,L+=25-k>>>8&6,L+=51-k>>>8&-75,L+=61-k>>>8&-13,L+=62-k>>>8&49,String.fromCharCode(L)},g.prototype._decodeChar=function(k){var L=u;return L+=(44-k&k-46)>>>8&-u+k-45+62,L+=(94-k&k-96)>>>8&-u+k-95+63,L+=(47-k&k-58)>>>8&-u+k-48+52,L+=(64-k&k-91)>>>8&-u+k-65+0,L+=(96-k&k-123)>>>8&-u+k-97+26,L},g}(m);o.URLSafeCoder=_;var O=new _;function T(C){return O.encode(C)}o.encodeURLSafe=T;function E(C){return O.decode(C)}o.decodeURLSafe=E,o.encodedLength=function(C){return w.encodedLength(C)},o.maxDecodedLength=function(C){return w.maxDecodedLength(C)},o.decodedLength=function(C){return w.decodedLength(C)}},function(r,o,a){Object.defineProperty(o,"__esModule",{value:!0});var l="utf8: invalid string",u="utf8: invalid source encoding";function m(y){for(var _=new Uint8Array(w(y)),O=0,T=0;T<y.length;T++){var E=y.charCodeAt(T);E<128?_[O++]=E:E<2048?(_[O++]=192|E>>6,_[O++]=128|E&63):E<55296?(_[O++]=224|E>>12,_[O++]=128|E>>6&63,_[O++]=128|E&63):(T++,E=(E&1023)<<10,E|=y.charCodeAt(T)&1023,E+=65536,_[O++]=240|E>>18,_[O++]=128|E>>12&63,_[O++]=128|E>>6&63,_[O++]=128|E&63)}return _}o.encode=m;function w(y){for(var _=0,O=0;O<y.length;O++){var T=y.charCodeAt(O);if(T<128)_+=1;else if(T<2048)_+=2;else if(T<55296)_+=3;else if(T<=57343){if(O>=y.length-1)throw new Error(l);O++,_+=4}else throw new Error(l)}return _}o.encodedLength=w;function v(y){for(var _=[],O=0;O<y.length;O++){var T=y[O];if(T&128){var E=void 0;if(T<224){if(O>=y.length)throw new Error(u);var C=y[++O];if((C&192)!==128)throw new Error(u);T=(T&31)<<6|C&63,E=128}else if(T<240){if(O>=y.length-1)throw new Error(u);var C=y[++O],g=y[++O];if((C&192)!==128||(g&192)!==128)throw new Error(u);T=(T&15)<<12|(C&63)<<6|g&63,E=2048}else if(T<248){if(O>=y.length-2)throw new Error(u);var C=y[++O],g=y[++O],k=y[++O];if((C&192)!==128||(g&192)!==128||(k&192)!==128)throw new Error(u);T=(T&15)<<18|(C&63)<<12|(g&63)<<6|k&63,E=65536}else throw new Error(u);if(T<E||T>=55296&&T<=57343)throw new Error(u);if(T>=65536){if(T>1114111)throw new Error(u);T-=65536,_.push(String.fromCharCode(55296|T>>10)),T=56320|T&1023}}_.push(String.fromCharCode(T))}return _.join("")}o.decode=v},function(r,o,a){r.exports=a(3).default},function(r,o,a){a.r(o);class l{constructor(n,s){this.lastId=0,this.prefix=n,this.name=s}create(n){this.lastId++;var s=this.lastId,c=this.prefix+s,f=this.name+"["+s+"]",S=!1,P=function(){S||(n.apply(null,arguments),S=!0)};return this[s]=P,{number:s,id:c,name:f,callback:P}}remove(n){delete this[n.number]}}var u=new l("_pusher_script_","Pusher.ScriptReceivers"),m={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},w=m;class v{constructor(n){this.options=n,this.receivers=n.receivers||u,this.loading={}}load(n,s,c){var f=this;if(f.loading[n]&&f.loading[n].length>0)f.loading[n].push(c);else{f.loading[n]=[c];var S=F.createScriptRequest(f.getPath(n,s)),P=f.receivers.create(function(D){if(f.receivers.remove(P),f.loading[n]){var I=f.loading[n];delete f.loading[n];for(var z=function(se){se||S.cleanup()},J=0;J<I.length;J++)I[J](D,z)}});S.send(P)}}getRoot(n){var s,c=F.getDocument().location.protocol;return n&&n.useTLS||c==="https:"?s=this.options.cdn_https:s=this.options.cdn_http,s.replace(/\/*$/,"")+"/"+this.options.version}getPath(n,s){return this.getRoot(s)+"/"+n+this.options.suffix+".js"}}var y=new l("_pusher_dependencies","Pusher.DependenciesReceivers"),_=new v({cdn_http:w.cdn_http,cdn_https:w.cdn_https,version:w.VERSION,suffix:w.dependency_suffix,receivers:y});const O={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var E={buildLogSuffix:function(i){const n="See:",s=O.urls[i];if(!s)return"";let c;return s.fullUrl?c=s.fullUrl:s.path&&(c=O.baseUrl+s.path),c?`${n} ${c}`:""}},C;(function(i){i.UserAuthentication="user-authentication",i.ChannelAuthorization="channel-authorization"})(C||(C={}));class g extends Error{constructor(n){super(n),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor(n){super(n),Object.setPrototypeOf(this,new.target.prototype)}}class L extends Error{constructor(n){super(n),Object.setPrototypeOf(this,new.target.prototype)}}class j extends Error{constructor(n){super(n),Object.setPrototypeOf(this,new.target.prototype)}}class M extends Error{constructor(n){super(n),Object.setPrototypeOf(this,new.target.prototype)}}class H extends Error{constructor(n){super(n),Object.setPrototypeOf(this,new.target.prototype)}}class G extends Error{constructor(n){super(n),Object.setPrototypeOf(this,new.target.prototype)}}class ie extends Error{constructor(n){super(n),Object.setPrototypeOf(this,new.target.prototype)}}class X extends Error{constructor(n,s){super(s),this.status=n,Object.setPrototypeOf(this,new.target.prototype)}}var me=function(i,n,s,c,f){const S=F.createXHR();S.open("POST",s.endpoint,!0),S.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var P in s.headers)S.setRequestHeader(P,s.headers[P]);if(s.headersProvider!=null){let D=s.headersProvider();for(var P in D)S.setRequestHeader(P,D[P])}return S.onreadystatechange=function(){if(S.readyState===4)if(S.status===200){let D,I=!1;try{D=JSON.parse(S.responseText),I=!0}catch{f(new X(200,`JSON returned from ${c.toString()} endpoint was invalid, yet status code was 200. Data was: ${S.responseText}`),null)}I&&f(null,D)}else{let D="";switch(c){case C.UserAuthentication:D=E.buildLogSuffix("authenticationEndpoint");break;case C.ChannelAuthorization:D=`Clients must be authorized to join private or presence channels. ${E.buildLogSuffix("authorizationEndpoint")}`;break}f(new X(S.status,`Unable to retrieve auth string from ${c.toString()} endpoint - received status: ${S.status} from ${s.endpoint}. ${D}`),null)}},S.send(n),S};function Jt(i){return Wt(Je(i))}var Ae=String.fromCharCode,He="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dt=function(i){var n=i.charCodeAt(0);return n<128?i:n<2048?Ae(192|n>>>6)+Ae(128|n&63):Ae(224|n>>>12&15)+Ae(128|n>>>6&63)+Ae(128|n&63)},Je=function(i){return i.replace(/[^\x00-\x7F]/g,dt)},Xt=function(i){var n=[0,2,1][i.length%3],s=i.charCodeAt(0)<<16|(i.length>1?i.charCodeAt(1):0)<<8|(i.length>2?i.charCodeAt(2):0),c=[He.charAt(s>>>18),He.charAt(s>>>12&63),n>=2?"=":He.charAt(s>>>6&63),n>=1?"=":He.charAt(s&63)];return c.join("")},Wt=window.btoa||function(i){return i.replace(/[\s\S]{1,3}/g,Xt)};class Xe{constructor(n,s,c,f){this.clear=s,this.timer=n(()=>{this.timer&&(this.timer=f(this.timer))},c)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var We=Xe;function Kt(i){window.clearTimeout(i)}function Gt(i){window.clearInterval(i)}class we extends We{constructor(n,s){super(setTimeout,Kt,n,function(c){return s(),null})}}class Qt extends We{constructor(n,s){super(setInterval,Gt,n,function(c){return s(),c})}}var Yt={now(){return Date.now?Date.now():new Date().valueOf()},defer(i){return new we(0,i)},method(i,...n){var s=Array.prototype.slice.call(arguments,1);return function(c){return c[i].apply(c,s.concat(arguments))}}},re=Yt;function oe(i,...n){for(var s=0;s<n.length;s++){var c=n[s];for(var f in c)c[f]&&c[f].constructor&&c[f].constructor===Object?i[f]=oe(i[f]||{},c[f]):i[f]=c[f]}return i}function pt(){for(var i=["Pusher"],n=0;n<arguments.length;n++)typeof arguments[n]=="string"?i.push(arguments[n]):i.push(K(arguments[n]));return i.join(" : ")}function Se(i,n){var s=Array.prototype.indexOf;if(i===null)return-1;if(s&&i.indexOf===s)return i.indexOf(n);for(var c=0,f=i.length;c<f;c++)if(i[c]===n)return c;return-1}function ge(i,n){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&n(i[s],s,i)}function Ke(i){var n=[];return ge(i,function(s,c){n.push(c)}),n}function Zt(i){var n=[];return ge(i,function(s){n.push(s)}),n}function Re(i,n,s){for(var c=0;c<i.length;c++)n.call(s||window,i[c],c,i)}function mt(i,n){for(var s=[],c=0;c<i.length;c++)s.push(n(i[c],c,i,s));return s}function Ge(i,n){var s={};return ge(i,function(c,f){s[f]=n(c)}),s}function Me(i,n){n=n||function(f){return!!f};for(var s=[],c=0;c<i.length;c++)n(i[c],c,i,s)&&s.push(i[c]);return s}function gt(i,n){var s={};return ge(i,function(c,f){(n&&n(c,f,i,s)||c)&&(s[f]=c)}),s}function en(i){var n=[];return ge(i,function(s,c){n.push([c,s])}),n}function vt(i,n){for(var s=0;s<i.length;s++)if(n(i[s],s,i))return!0;return!1}function bt(i,n){for(var s=0;s<i.length;s++)if(!n(i[s],s,i))return!1;return!0}function Qe(i){return Ge(i,function(n){return typeof n=="object"&&(n=K(n)),encodeURIComponent(Jt(n.toString()))})}function tn(i){var n=gt(i,function(c){return c!==void 0}),s=mt(en(Qe(n)),re.method("join","=")).join("&");return s}function Oe(i){var n=[],s=[];return function c(f,S){var P,D,I;switch(typeof f){case"object":if(!f)return null;for(P=0;P<n.length;P+=1)if(n[P]===f)return{$ref:s[P]};if(n.push(f),s.push(S),Object.prototype.toString.apply(f)==="[object Array]")for(I=[],P=0;P<f.length;P+=1)I[P]=c(f[P],S+"["+P+"]");else{I={};for(D in f)Object.prototype.hasOwnProperty.call(f,D)&&(I[D]=c(f[D],S+"["+JSON.stringify(D)+"]"))}return I;case"number":case"string":case"boolean":return f}}(i,"$")}function K(i){try{return JSON.stringify(i)}catch{return JSON.stringify(Oe(i))}}class qe{constructor(){this.globalLog=n=>{window.console&&window.console.log&&window.console.log(n)}}debug(...n){this.log(this.globalLog,n)}warn(...n){this.log(this.globalLogWarn,n)}error(...n){this.log(this.globalLogError,n)}globalLogWarn(n){window.console&&window.console.warn?window.console.warn(n):this.globalLog(n)}globalLogError(n){window.console&&window.console.error?window.console.error(n):this.globalLogWarn(n)}log(n,...s){var c=pt.apply(this,arguments);fn.log?fn.log(c):fn.logToConsole&&n.bind(this)(c)}}var W=new qe,yt=function(i,n,s,c,f){(s.headers!==void 0||s.headersProvider!=null)&&W.warn(`To send headers with the ${c.toString()} request, you must use AJAX, rather than JSONP.`);var S=i.nextAuthCallbackID.toString();i.nextAuthCallbackID++;var P=i.getDocument(),D=P.createElement("script");i.auth_callbacks[S]=function(J){f(null,J)};var I="Pusher.auth_callbacks['"+S+"']";D.src=s.endpoint+"?callback="+encodeURIComponent(I)+"&"+n;var z=P.getElementsByTagName("head")[0]||P.documentElement;z.insertBefore(D,z.firstChild)},wt=yt;class nn{constructor(n){this.src=n}send(n){var s=this,c="Error loading "+s.src;s.script=document.createElement("script"),s.script.id=n.id,s.script.src=s.src,s.script.type="text/javascript",s.script.charset="UTF-8",s.script.addEventListener?(s.script.onerror=function(){n.callback(c)},s.script.onload=function(){n.callback(null)}):s.script.onreadystatechange=function(){(s.script.readyState==="loaded"||s.script.readyState==="complete")&&n.callback(null)},s.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(s.errorScript=document.createElement("script"),s.errorScript.id=n.id+"_error",s.errorScript.text=n.name+"('"+c+"');",s.script.async=s.errorScript.async=!1):s.script.async=!0;var f=document.getElementsByTagName("head")[0];f.insertBefore(s.script,f.firstChild),s.errorScript&&f.insertBefore(s.errorScript,s.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Ye{constructor(n,s){this.url=n,this.data=s}send(n){if(!this.request){var s=tn(this.data),c=this.url+"/"+n.number+"?"+s;this.request=F.createScriptRequest(c),this.request.send(n)}}cleanup(){this.request&&this.request.cleanup()}}var _e=function(i,n){return function(s,c){var f="http"+(n?"s":"")+"://",S=f+(i.host||i.options.host)+i.options.path,P=F.createJSONPRequest(S,s),D=F.ScriptReceivers.create(function(I,z){u.remove(D),P.cleanup(),z&&z.host&&(i.host=z.host),c&&c(I,z)});P.send(D)}},Le={name:"jsonp",getAgent:_e},St=Le;function Ee(i,n,s){var c=i+(n.useTLS?"s":""),f=n.useTLS?n.hostTLS:n.hostNonTLS;return c+"://"+f+s}function Ze(i,n){var s="/app/"+i,c="?protocol="+w.PROTOCOL+"&client=js&version="+w.VERSION+(n?"&"+n:"");return s+c}var rn={getInitial:function(i,n){var s=(n.httpPath||"")+Ze(i,"flash=false");return Ee("ws",n,s)}},Ct={getInitial:function(i,n){var s=(n.httpPath||"/pusher")+Ze(i);return Ee("http",n,s)}},sn={getInitial:function(i,n){return Ee("http",n,n.httpPath||"/pusher")},getPath:function(i,n){return Ze(i)}};class _t{constructor(){this._callbacks={}}get(n){return this._callbacks[et(n)]}add(n,s,c){var f=et(n);this._callbacks[f]=this._callbacks[f]||[],this._callbacks[f].push({fn:s,context:c})}remove(n,s,c){if(!n&&!s&&!c){this._callbacks={};return}var f=n?[et(n)]:Ke(this._callbacks);s||c?this.removeCallback(f,s,c):this.removeAllCallbacks(f)}removeCallback(n,s,c){Re(n,function(f){this._callbacks[f]=Me(this._callbacks[f]||[],function(S){return s&&s!==S.fn||c&&c!==S.context}),this._callbacks[f].length===0&&delete this._callbacks[f]},this)}removeAllCallbacks(n){Re(n,function(s){delete this._callbacks[s]},this)}}function et(i){return"_"+i}class ve{constructor(n){this.callbacks=new _t,this.global_callbacks=[],this.failThrough=n}bind(n,s,c){return this.callbacks.add(n,s,c),this}bind_global(n){return this.global_callbacks.push(n),this}unbind(n,s,c){return this.callbacks.remove(n,s,c),this}unbind_global(n){return n?(this.global_callbacks=Me(this.global_callbacks||[],s=>s!==n),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(n,s,c){for(var f=0;f<this.global_callbacks.length;f++)this.global_callbacks[f](n,s);var S=this.callbacks.get(n),P=[];if(c?P.push(s,c):s&&P.push(s),S&&S.length>0)for(var f=0;f<S.length;f++)S[f].fn.apply(S[f].context||window,P);else this.failThrough&&this.failThrough(n,s);return this}}class xt extends ve{constructor(n,s,c,f,S){super(),this.initialize=F.transportConnectionInitializer,this.hooks=n,this.name=s,this.priority=c,this.key=f,this.options=S,this.state="new",this.timeline=S.timeline,this.activityTimeout=S.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var n=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(n,this.options)}catch(s){return re.defer(()=>{this.onError(s),this.changeState("closed")}),!1}return this.bindListeners(),W.debug("Connecting",{transport:this.name,url:n}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(n){return this.state==="open"?(re.defer(()=>{this.socket&&this.socket.send(n)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(n){this.emit("error",{type:"WebSocketError",error:n}),this.timeline.error(this.buildTimelineMessage({error:n.toString()}))}onClose(n){n?this.changeState("closed",{code:n.code,reason:n.reason,wasClean:n.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(n){this.emit("message",n)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=n=>{this.onError(n)},this.socket.onclose=n=>{this.onClose(n)},this.socket.onmessage=n=>{this.onMessage(n)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(n,s){this.state=n,this.timeline.info(this.buildTimelineMessage({state:n,params:s})),this.emit(n,s)}buildTimelineMessage(n){return oe({cid:this.id},n)}}class ke{constructor(n){this.hooks=n}isSupported(n){return this.hooks.isSupported(n)}createConnection(n,s,c,f){return new xt(this.hooks,n,s,c,f)}}var on=new ke({urls:rn,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!F.getWebSocketAPI()},isSupported:function(){return!!F.getWebSocketAPI()},getSocket:function(i){return F.createWebSocket(i)}}),Ne={urls:Ct,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},h=oe({getSocket:function(i){return F.HTTPFactory.createStreamingSocket(i)}},Ne),d=oe({getSocket:function(i){return F.HTTPFactory.createPollingSocket(i)}},Ne),p={isSupported:function(){return F.isXHRSupported()}},x=new ke(oe({},h,p)),A=new ke(oe({},d,p)),R={ws:on,xhr_streaming:x,xhr_polling:A},U=R,N=new ke({file:"sockjs",urls:sn,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(i,n){return new window.SockJS(i,null,{js_path:_.getPath("sockjs",{useTLS:n.useTLS}),ignore_null_origin:n.ignoreNullOrigin})},beforeOpen:function(i,n){i.send(JSON.stringify({path:n}))}}),V={isSupported:function(i){var n=F.isXDRSupported(i.useTLS);return n}},$=new ke(oe({},h,V)),Q=new ke(oe({},d,V));U.xdr_streaming=$,U.xdr_polling=Q,U.sockjs=N;var Y=U;class q extends ve{constructor(){super();var n=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){n.emit("online")},!1),window.addEventListener("offline",function(){n.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var te=new q;class ae{constructor(n,s,c){this.manager=n,this.transport=s,this.minPingDelay=c.minPingDelay,this.maxPingDelay=c.maxPingDelay,this.pingDelay=void 0}createConnection(n,s,c,f){f=oe({},f,{activityTimeout:this.pingDelay});var S=this.transport.createConnection(n,s,c,f),P=null,D=function(){S.unbind("open",D),S.bind("closed",I),P=re.now()},I=z=>{if(S.unbind("closed",I),z.code===1002||z.code===1003)this.manager.reportDeath();else if(!z.wasClean&&P){var J=re.now()-P;J<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(J/2,this.minPingDelay))}};return S.bind("open",D),S}isSupported(n){return this.manager.isAlive()&&this.transport.isSupported(n)}}const ne={decodeMessage:function(i){try{var n=JSON.parse(i.data),s=n.data;if(typeof s=="string")try{s=JSON.parse(n.data)}catch{}var c={event:n.event,channel:n.channel,data:s};return n.user_id&&(c.user_id=n.user_id),c}catch(f){throw{type:"MessageParseError",error:f,data:i.data}}},encodeMessage:function(i){return JSON.stringify(i)},processHandshake:function(i){var n=ne.decodeMessage(i);if(n.event==="pusher:connection_established"){if(!n.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:n.data.socket_id,activityTimeout:n.data.activity_timeout*1e3}}else{if(n.event==="pusher:error")return{action:this.getCloseAction(n.data),error:this.getCloseError(n.data)};throw"Invalid handshake"}},getCloseAction:function(i){return i.code<4e3?i.code>=1002&&i.code<=1004?"backoff":null:i.code===4e3?"tls_only":i.code<4100?"refused":i.code<4200?"backoff":i.code<4300?"retry":"refused"},getCloseError:function(i){return i.code!==1e3&&i.code!==1001?{type:"PusherError",data:{code:i.code,message:i.reason||i.message}}:null}};var Z=ne;class tt extends ve{constructor(n,s){super(),this.id=n,this.transport=s,this.activityTimeout=s.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(n){return this.transport.send(n)}send_event(n,s,c){var f={event:n,data:s};return c&&(f.channel=c),W.debug("Event sent",f),this.send(Z.encodeMessage(f))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var n={message:c=>{var f;try{f=Z.decodeMessage(c)}catch(S){this.emit("error",{type:"MessageParseError",error:S,data:c.data})}if(f!==void 0){switch(W.debug("Event recd",f),f.event){case"pusher:error":this.emit("error",{type:"PusherError",data:f.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",f)}},activity:()=>{this.emit("activity")},error:c=>{this.emit("error",c)},closed:c=>{s(),c&&c.code&&this.handleCloseEvent(c),this.transport=null,this.emit("closed")}},s=()=>{ge(n,(c,f)=>{this.transport.unbind(f,c)})};ge(n,(c,f)=>{this.transport.bind(f,c)})}handleCloseEvent(n){var s=Z.getCloseAction(n),c=Z.getCloseError(n);c&&this.emit("error",c),s&&this.emit(s,{action:s,error:c})}}class nt{constructor(n,s){this.transport=n,this.callback=s,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=n=>{this.unbindListeners();var s;try{s=Z.processHandshake(n)}catch(c){this.finish("error",{error:c}),this.transport.close();return}s.action==="connected"?this.finish("connected",{connection:new tt(s.id,this.transport),activityTimeout:s.activityTimeout}):(this.finish(s.action,{error:s.error}),this.transport.close())},this.onClosed=n=>{this.unbindListeners();var s=Z.getCloseAction(n)||"backoff",c=Z.getCloseError(n);this.finish(s,{error:c})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(n,s){this.callback(oe({transport:this.transport,action:n},s))}}class rt{constructor(n,s){this.timeline=n,this.options=s||{}}send(n,s){this.timeline.isEmpty()||this.timeline.send(F.TimelineTransport.getAgent(this,n),s)}}class ze extends ve{constructor(n,s){super(function(c,f){W.debug("No callbacks on "+n+" for "+c)}),this.name=n,this.pusher=s,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(n,s){return s(null,{auth:""})}trigger(n,s){if(n.indexOf("client-")!==0)throw new g("Event '"+n+"' does not start with 'client-'");if(!this.subscribed){var c=E.buildLogSuffix("triggeringClientEvents");W.warn(`Client event triggered before channel 'subscription_succeeded' event . ${c}`)}return this.pusher.send_event(n,s,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(n){var s=n.event,c=n.data;if(s==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(n);else if(s==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(n);else if(s.indexOf("pusher_internal:")!==0){var f={};this.emit(s,c,f)}}handleSubscriptionSucceededEvent(n){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",n.data)}handleSubscriptionCountEvent(n){n.data.subscription_count&&(this.subscriptionCount=n.data.subscription_count),this.emit("pusher:subscription_count",n.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(n,s)=>{n?(this.subscriptionPending=!1,W.error(n.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:n.message},n instanceof X?{status:n.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:s.auth,channel_data:s.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class De extends ze{authorize(n,s){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:n},s)}}class Et{constructor(){this.reset()}get(n){return Object.prototype.hasOwnProperty.call(this.members,n)?{id:n,info:this.members[n]}:null}each(n){ge(this.members,(s,c)=>{n(this.get(c))})}setMyID(n){this.myID=n}onSubscription(n){this.members=n.presence.hash,this.count=n.presence.count,this.me=this.get(this.myID)}addMember(n){return this.get(n.user_id)===null&&this.count++,this.members[n.user_id]=n.user_info,this.get(n.user_id)}removeMember(n){var s=this.get(n.user_id);return s&&(delete this.members[n.user_id],this.count--),s}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var kt=function(i,n,s,c){function f(S){return S instanceof s?S:new s(function(P){P(S)})}return new(s||(s=Promise))(function(S,P){function D(J){try{z(c.next(J))}catch(se){P(se)}}function I(J){try{z(c.throw(J))}catch(se){P(se)}}function z(J){J.done?S(J.value):f(J.value).then(D,I)}z((c=c.apply(i,n||[])).next())})};class Zr extends De{constructor(n,s){super(n,s),this.members=new Et}authorize(n,s){super.authorize(n,(c,f)=>kt(this,void 0,void 0,function*(){if(!c)if(f=f,f.channel_data!=null){var S=JSON.parse(f.channel_data);this.members.setMyID(S.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let P=E.buildLogSuffix("authorizationEndpoint");W.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${P}, or the user should be signed in.`),s("Invalid auth response");return}s(c,f)}))}handleEvent(n){var s=n.event;if(s.indexOf("pusher_internal:")===0)this.handleInternalEvent(n);else{var c=n.data,f={};n.user_id&&(f.user_id=n.user_id),this.emit(s,c,f)}}handleInternalEvent(n){var s=n.event,c=n.data;switch(s){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(n);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(n);break;case"pusher_internal:member_added":var f=this.members.addMember(c);this.emit("pusher:member_added",f);break;case"pusher_internal:member_removed":var S=this.members.removeMember(c);S&&this.emit("pusher:member_removed",S);break}}handleSubscriptionSucceededEvent(n){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(n.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var es=a(1),an=a(0);class ts extends De{constructor(n,s,c){super(n,s),this.key=null,this.nacl=c}authorize(n,s){super.authorize(n,(c,f)=>{if(c){s(c,f);return}let S=f.shared_secret;if(!S){s(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(an.decode)(S),delete f.shared_secret,s(null,f)})}trigger(n,s){throw new H("Client events are not currently supported for encrypted channels")}handleEvent(n){var s=n.event,c=n.data;if(s.indexOf("pusher_internal:")===0||s.indexOf("pusher:")===0){super.handleEvent(n);return}this.handleEncryptedEvent(s,c)}handleEncryptedEvent(n,s){if(!this.key){W.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!s.ciphertext||!s.nonce){W.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+s);return}let c=Object(an.decode)(s.ciphertext);if(c.length<this.nacl.secretbox.overheadLength){W.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${c.length}`);return}let f=Object(an.decode)(s.nonce);if(f.length<this.nacl.secretbox.nonceLength){W.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${f.length}`);return}let S=this.nacl.secretbox.open(c,f,this.key);if(S===null){W.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(P,D)=>{if(P){W.error(`Failed to make a request to the authEndpoint: ${D}. Unable to fetch new key, so dropping encrypted event`);return}if(S=this.nacl.secretbox.open(c,f,this.key),S===null){W.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(n,this.getDataToEmit(S))});return}this.emit(n,this.getDataToEmit(S))}getDataToEmit(n){let s=Object(es.decode)(n);try{return JSON.parse(s)}catch{return s}}}class ns extends ve{constructor(n,s){super(),this.state="initialized",this.connection=null,this.key=n,this.options=s,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var c=F.getNetwork();c.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),c.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(n){return this.connection?this.connection.send(n):!1}send_event(n,s,c){return this.connection?this.connection.send_event(n,s,c):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var n=(s,c)=>{s?this.runner=this.strategy.connect(0,n):c.action==="error"?(this.emit("error",{type:"HandshakeError",error:c.error}),this.timeline.error({handshakeError:c.error})):(this.abortConnecting(),this.handshakeCallbacks[c.action](c))};this.runner=this.strategy.connect(0,n)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var n=this.abandonConnection();n.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(n){this.timeline.info({action:"retry",delay:n}),n>0&&this.emit("connecting_in",Math.round(n/1e3)),this.retryTimer=new we(n||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new we(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new we(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new we(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(n){return oe({},n,{message:s=>{this.resetActivityCheck(),this.emit("message",s)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:s=>{this.emit("error",s)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(n){return oe({},n,{connected:s=>{this.activityTimeout=Math.min(this.options.activityTimeout,s.activityTimeout,s.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(s.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let n=s=>c=>{c.error&&this.emit("error",{type:"WebSocketError",error:c.error}),s(c)};return{tls_only:n(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:n(()=>{this.disconnect()}),backoff:n(()=>{this.retryIn(1e3)}),retry:n(()=>{this.retryIn(0)})}}setConnection(n){this.connection=n;for(var s in this.connectionCallbacks)this.connection.bind(s,this.connectionCallbacks[s]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var n in this.connectionCallbacks)this.connection.unbind(n,this.connectionCallbacks[n]);var s=this.connection;return this.connection=null,s}}updateState(n,s){var c=this.state;if(this.state=n,c!==n){var f=n;f==="connected"&&(f+=" with new socket ID "+s.socket_id),W.debug("State changed",c+" -> "+f),this.timeline.info({state:n,params:s}),this.emit("state_change",{previous:c,current:n}),this.emit(n,s)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class rs{constructor(){this.channels={}}add(n,s){return this.channels[n]||(this.channels[n]=ss(n,s)),this.channels[n]}all(){return Zt(this.channels)}find(n){return this.channels[n]}remove(n){var s=this.channels[n];return delete this.channels[n],s}disconnect(){ge(this.channels,function(n){n.disconnect()})}}function ss(i,n){if(i.indexOf("private-encrypted-")===0){if(n.config.nacl)return xe.createEncryptedChannel(i,n,n.config.nacl);let s="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",c=E.buildLogSuffix("encryptedChannelSupport");throw new H(`${s}. ${c}`)}else{if(i.indexOf("private-")===0)return xe.createPrivateChannel(i,n);if(i.indexOf("presence-")===0)return xe.createPresenceChannel(i,n);if(i.indexOf("#")===0)throw new k('Cannot create a channel with name "'+i+'".');return xe.createChannel(i,n)}}var is={createChannels(){return new rs},createConnectionManager(i,n){return new ns(i,n)},createChannel(i,n){return new ze(i,n)},createPrivateChannel(i,n){return new De(i,n)},createPresenceChannel(i,n){return new Zr(i,n)},createEncryptedChannel(i,n,s){return new ts(i,n,s)},createTimelineSender(i,n){return new rt(i,n)},createHandshake(i,n){return new nt(i,n)},createAssistantToTheTransportManager(i,n,s){return new ae(i,n,s)}},xe=is;class Dn{constructor(n){this.options=n||{},this.livesLeft=this.options.lives||1/0}getAssistant(n){return xe.createAssistantToTheTransportManager(this,n,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class Ue{constructor(n,s){this.strategies=n,this.loop=!!s.loop,this.failFast=!!s.failFast,this.timeout=s.timeout,this.timeoutLimit=s.timeoutLimit}isSupported(){return vt(this.strategies,re.method("isSupported"))}connect(n,s){var c=this.strategies,f=0,S=this.timeout,P=null,D=(I,z)=>{z?s(null,z):(f=f+1,this.loop&&(f=f%c.length),f<c.length?(S&&(S=S*2,this.timeoutLimit&&(S=Math.min(S,this.timeoutLimit))),P=this.tryStrategy(c[f],n,{timeout:S,failFast:this.failFast},D)):s(!0))};return P=this.tryStrategy(c[f],n,{timeout:S,failFast:this.failFast},D),{abort:function(){P.abort()},forceMinPriority:function(I){n=I,P&&P.forceMinPriority(I)}}}tryStrategy(n,s,c,f){var S=null,P=null;return c.timeout>0&&(S=new we(c.timeout,function(){P.abort(),f(!0)})),P=n.connect(s,function(D,I){D&&S&&S.isRunning()&&!c.failFast||(S&&S.ensureAborted(),f(D,I))}),{abort:function(){S&&S.ensureAborted(),P.abort()},forceMinPriority:function(D){P.forceMinPriority(D)}}}}class cn{constructor(n){this.strategies=n}isSupported(){return vt(this.strategies,re.method("isSupported"))}connect(n,s){return os(this.strategies,n,function(c,f){return function(S,P){if(f[c].error=S,S){as(f)&&s(!0);return}Re(f,function(D){D.forceMinPriority(P.transport.priority)}),s(null,P)}})}}function os(i,n,s){var c=mt(i,function(f,S,P,D){return f.connect(n,s(S,D))});return{abort:function(){Re(c,cs)},forceMinPriority:function(f){Re(c,function(S){S.forceMinPriority(f)})}}}function as(i){return bt(i,function(n){return!!n.error})}function cs(i){!i.error&&!i.aborted&&(i.abort(),i.aborted=!0)}class us{constructor(n,s,c){this.strategy=n,this.transports=s,this.ttl=c.ttl||1800*1e3,this.usingTLS=c.useTLS,this.timeline=c.timeline}isSupported(){return this.strategy.isSupported()}connect(n,s){var c=this.usingTLS,f=ls(c),S=f&&f.cacheSkipCount?f.cacheSkipCount:0,P=[this.strategy];if(f&&f.timestamp+this.ttl>=re.now()){var D=this.transports[f.transport];D&&(["ws","wss"].includes(f.transport)||S>3?(this.timeline.info({cached:!0,transport:f.transport,latency:f.latency}),P.push(new Ue([D],{timeout:f.latency*2+1e3,failFast:!0}))):S++)}var I=re.now(),z=P.pop().connect(n,function J(se,At){se?(Un(c),P.length>0?(I=re.now(),z=P.pop().connect(n,J)):s(se)):(hs(c,At.transport.name,re.now()-I,S),s(null,At))});return{abort:function(){z.abort()},forceMinPriority:function(J){n=J,z&&z.forceMinPriority(J)}}}}function un(i){return"pusherTransport"+(i?"TLS":"NonTLS")}function ls(i){var n=F.getLocalStorage();if(n)try{var s=n[un(i)];if(s)return JSON.parse(s)}catch{Un(i)}return null}function hs(i,n,s,c){var f=F.getLocalStorage();if(f)try{f[un(i)]=K({timestamp:re.now(),transport:n,latency:s,cacheSkipCount:c})}catch{}}function Un(i){var n=F.getLocalStorage();if(n)try{delete n[un(i)]}catch{}}class Tt{constructor(n,{delay:s}){this.strategy=n,this.options={delay:s}}isSupported(){return this.strategy.isSupported()}connect(n,s){var c=this.strategy,f,S=new we(this.options.delay,function(){f=c.connect(n,s)});return{abort:function(){S.ensureAborted(),f&&f.abort()},forceMinPriority:function(P){n=P,f&&f.forceMinPriority(P)}}}}class st{constructor(n,s,c){this.test=n,this.trueBranch=s,this.falseBranch=c}isSupported(){var n=this.test()?this.trueBranch:this.falseBranch;return n.isSupported()}connect(n,s){var c=this.test()?this.trueBranch:this.falseBranch;return c.connect(n,s)}}class fs{constructor(n){this.strategy=n}isSupported(){return this.strategy.isSupported()}connect(n,s){var c=this.strategy.connect(n,function(f,S){S&&c.abort(),s(f,S)});return c}}function it(i){return function(){return i.isSupported()}}var ds=function(i,n,s){var c={};function f(Jn,fi,di,pi,mi){var Xn=s(i,Jn,fi,di,pi,mi);return c[Jn]=Xn,Xn}var S=Object.assign({},n,{hostNonTLS:i.wsHost+":"+i.wsPort,hostTLS:i.wsHost+":"+i.wssPort,httpPath:i.wsPath}),P=Object.assign({},S,{useTLS:!0}),D=Object.assign({},n,{hostNonTLS:i.httpHost+":"+i.httpPort,hostTLS:i.httpHost+":"+i.httpsPort,httpPath:i.httpPath}),I={loop:!0,timeout:15e3,timeoutLimit:6e4},z=new Dn({minPingDelay:1e4,maxPingDelay:i.activityTimeout}),J=new Dn({lives:2,minPingDelay:1e4,maxPingDelay:i.activityTimeout}),se=f("ws","ws",3,S,z),At=f("wss","ws",3,P,z),ai=f("sockjs","sockjs",1,D),Hn=f("xhr_streaming","xhr_streaming",1,D,J),ci=f("xdr_streaming","xdr_streaming",1,D,J),Mn=f("xhr_polling","xhr_polling",1,D),ui=f("xdr_polling","xdr_polling",1,D),qn=new Ue([se],I),li=new Ue([At],I),hi=new Ue([ai],I),zn=new Ue([new st(it(Hn),Hn,ci)],I),Vn=new Ue([new st(it(Mn),Mn,ui)],I),$n=new Ue([new st(it(zn),new cn([zn,new Tt(Vn,{delay:4e3})]),Vn)],I),dn=new st(it($n),$n,hi),pn;return n.useTLS?pn=new cn([qn,new Tt(dn,{delay:2e3})]):pn=new cn([qn,new Tt(li,{delay:2e3}),new Tt(dn,{delay:5e3})]),new us(new fs(new st(it(se),pn,dn)),c,{ttl:18e5,timeline:n.timeline,useTLS:n.useTLS})},ps=ds,ms=function(){var i=this;i.timeline.info(i.buildTimelineMessage({transport:i.name+(i.options.useTLS?"s":"")})),i.hooks.isInitialized()?i.changeState("initialized"):i.hooks.file?(i.changeState("initializing"),_.load(i.hooks.file,{useTLS:i.options.useTLS},function(n,s){i.hooks.isInitialized()?(i.changeState("initialized"),s(!0)):(n&&i.onError(n),i.onClose(),s(!1))})):i.onClose()},gs={getRequest:function(i){var n=new window.XDomainRequest;return n.ontimeout=function(){i.emit("error",new L),i.close()},n.onerror=function(s){i.emit("error",s),i.close()},n.onprogress=function(){n.responseText&&n.responseText.length>0&&i.onChunk(200,n.responseText)},n.onload=function(){n.responseText&&n.responseText.length>0&&i.onChunk(200,n.responseText),i.emit("finished",200),i.close()},n},abortRequest:function(i){i.ontimeout=i.onerror=i.onprogress=i.onload=null,i.abort()}},vs=gs;const bs=256*1024;class ys extends ve{constructor(n,s,c){super(),this.hooks=n,this.method=s,this.url=c}start(n){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},F.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(n)}close(){this.unloader&&(F.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(n,s){for(;;){var c=this.advanceBuffer(s);if(c)this.emit("chunk",{status:n,data:c});else break}this.isBufferTooLong(s)&&this.emit("buffer_too_long")}advanceBuffer(n){var s=n.slice(this.position),c=s.indexOf(`
`);return c!==-1?(this.position+=c+1,s.slice(0,c)):null}isBufferTooLong(n){return this.position===n.length&&n.length>bs}}var ln;(function(i){i[i.CONNECTING=0]="CONNECTING",i[i.OPEN=1]="OPEN",i[i.CLOSED=3]="CLOSED"})(ln||(ln={}));var je=ln,ws=1;class Ss{constructor(n,s){this.hooks=n,this.session=In(1e3)+"/"+Es(8),this.location=Cs(s),this.readyState=je.CONNECTING,this.openStream()}send(n){return this.sendRaw(JSON.stringify([n]))}ping(){this.hooks.sendHeartbeat(this)}close(n,s){this.onClose(n,s,!0)}sendRaw(n){if(this.readyState===je.OPEN)try{return F.createSocketRequest("POST",jn(_s(this.location,this.session))).start(n),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(n,s,c){this.closeStream(),this.readyState=je.CLOSED,this.onclose&&this.onclose({code:n,reason:s,wasClean:c})}onChunk(n){if(n.status===200){this.readyState===je.OPEN&&this.onActivity();var s,c=n.data.slice(0,1);switch(c){case"o":s=JSON.parse(n.data.slice(1)||"{}"),this.onOpen(s);break;case"a":s=JSON.parse(n.data.slice(1)||"[]");for(var f=0;f<s.length;f++)this.onEvent(s[f]);break;case"m":s=JSON.parse(n.data.slice(1)||"null"),this.onEvent(s);break;case"h":this.hooks.onHeartbeat(this);break;case"c":s=JSON.parse(n.data.slice(1)||"[]"),this.onClose(s[0],s[1],!0);break}}}onOpen(n){this.readyState===je.CONNECTING?(n&&n.hostname&&(this.location.base=xs(this.location.base,n.hostname)),this.readyState=je.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(n){this.readyState===je.OPEN&&this.onmessage&&this.onmessage({data:n})}onActivity(){this.onactivity&&this.onactivity()}onError(n){this.onerror&&this.onerror(n)}openStream(){this.stream=F.createSocketRequest("POST",jn(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",n=>{this.onChunk(n)}),this.stream.bind("finished",n=>{this.hooks.onFinished(this,n)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(n){re.defer(()=>{this.onError(n),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function Cs(i){var n=/([^\?]*)\/*(\??.*)/.exec(i);return{base:n[1],queryString:n[2]}}function _s(i,n){return i.base+"/"+n+"/xhr_send"}function jn(i){var n=i.indexOf("?")===-1?"?":"&";return i+n+"t="+ +new Date+"&n="+ws++}function xs(i,n){var s=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(i);return s[1]+n+s[3]}function In(i){return F.randomInt(i)}function Es(i){for(var n=[],s=0;s<i;s++)n.push(In(32).toString(32));return n.join("")}var ks=Ss,Ts={getReceiveURL:function(i,n){return i.base+"/"+n+"/xhr_streaming"+i.queryString},onHeartbeat:function(i){i.sendRaw("[]")},sendHeartbeat:function(i){i.sendRaw("[]")},onFinished:function(i,n){i.onClose(1006,"Connection interrupted ("+n+")",!1)}},Ps=Ts,As={getReceiveURL:function(i,n){return i.base+"/"+n+"/xhr"+i.queryString},onHeartbeat:function(){},sendHeartbeat:function(i){i.sendRaw("[]")},onFinished:function(i,n){n===200?i.reconnect():i.onClose(1006,"Connection interrupted ("+n+")",!1)}},Rs=As,Os={getRequest:function(i){var n=F.getXHRAPI(),s=new n;return s.onreadystatechange=s.onprogress=function(){switch(s.readyState){case 3:s.responseText&&s.responseText.length>0&&i.onChunk(s.status,s.responseText);break;case 4:s.responseText&&s.responseText.length>0&&i.onChunk(s.status,s.responseText),i.emit("finished",s.status),i.close();break}},s},abortRequest:function(i){i.onreadystatechange=null,i.abort()}},Ls=Os,Ns={createStreamingSocket(i){return this.createSocket(Ps,i)},createPollingSocket(i){return this.createSocket(Rs,i)},createSocket(i,n){return new ks(i,n)},createXHR(i,n){return this.createRequest(Ls,i,n)},createRequest(i,n,s){return new ys(i,n,s)}},Fn=Ns;Fn.createXDR=function(i,n){return this.createRequest(vs,i,n)};var Ds=Fn,Us={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:u,DependenciesReceivers:y,getDefaultStrategy:ps,Transports:Y,transportConnectionInitializer:ms,HTTPFactory:Ds,TimelineTransport:St,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(i){window.Pusher=i;var n=()=>{this.onDocumentBody(i.ready)};window.JSON?n():_.load("json2",{},n)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:me,jsonp:wt}},onDocumentBody(i){document.body?i():setTimeout(()=>{this.onDocumentBody(i)},0)},createJSONPRequest(i,n){return new Ye(i,n)},createScriptRequest(i){return new nn(i)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var i=this.getXHRAPI();return new i},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return te},createWebSocket(i){var n=this.getWebSocketAPI();return new n(i)},createSocketRequest(i,n){if(this.isXHRSupported())return this.HTTPFactory.createXHR(i,n);if(this.isXDRSupported(n.indexOf("https:")===0))return this.HTTPFactory.createXDR(i,n);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var i=this.getXHRAPI();return!!i&&new i().withCredentials!==void 0},isXDRSupported(i){var n=i?"https:":"http:",s=this.getProtocol();return!!window.XDomainRequest&&s===n},addUnloadListener(i){window.addEventListener!==void 0?window.addEventListener("unload",i,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",i)},removeUnloadListener(i){window.addEventListener!==void 0?window.removeEventListener("unload",i,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",i)},randomInt(i){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*i)}},F=Us,hn;(function(i){i[i.ERROR=3]="ERROR",i[i.INFO=6]="INFO",i[i.DEBUG=7]="DEBUG"})(hn||(hn={}));var Pt=hn;class js{constructor(n,s,c){this.key=n,this.session=s,this.events=[],this.options=c||{},this.sent=0,this.uniqueID=0}log(n,s){n<=this.options.level&&(this.events.push(oe({},s,{timestamp:re.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(n){this.log(Pt.ERROR,n)}info(n){this.log(Pt.INFO,n)}debug(n){this.log(Pt.DEBUG,n)}isEmpty(){return this.events.length===0}send(n,s){var c=oe({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],n(c,(f,S)=>{f||this.sent++,s&&s(f,S)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class Is{constructor(n,s,c,f){this.name=n,this.priority=s,this.transport=c,this.options=f||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(n,s){if(this.isSupported()){if(this.priority<n)return Bn(new j,s)}else return Bn(new ie,s);var c=!1,f=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),S=null,P=function(){f.unbind("initialized",P),f.connect()},D=function(){S=xe.createHandshake(f,function(se){c=!0,J(),s(null,se)})},I=function(se){J(),s(se)},z=function(){J();var se;se=K(f),s(new M(se))},J=function(){f.unbind("initialized",P),f.unbind("open",D),f.unbind("error",I),f.unbind("closed",z)};return f.bind("initialized",P),f.bind("open",D),f.bind("error",I),f.bind("closed",z),f.initialize(),{abort:()=>{c||(J(),S?S.close():f.close())},forceMinPriority:se=>{c||this.priority<se&&(S?S.close():f.close())}}}}function Bn(i,n){return re.defer(function(){n(i)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:Fs}=F;var Bs=function(i,n,s,c,f,S){var P=Fs[s];if(!P)throw new G(s);var D=(!i.enabledTransports||Se(i.enabledTransports,n)!==-1)&&(!i.disabledTransports||Se(i.disabledTransports,n)===-1),I;return D?(f=Object.assign({ignoreNullOrigin:i.ignoreNullOrigin},f),I=new Is(n,c,S?S.getAssistant(P):P,f)):I=Hs,I},Hs={isSupported:function(){return!1},connect:function(i,n){var s=re.defer(function(){n(new ie)});return{abort:function(){s.ensureAborted()},forceMinPriority:function(){}}}};function Ms(i){if(i==null)throw"You must pass an options object";if(i.cluster==null)throw"Options object must provide a cluster";"disableStats"in i&&W.warn("The disableStats option is deprecated in favor of enableStats")}const qs=(i,n)=>{var s="socket_id="+encodeURIComponent(i.socketId);for(var c in n.params)s+="&"+encodeURIComponent(c)+"="+encodeURIComponent(n.params[c]);if(n.paramsProvider!=null){let f=n.paramsProvider();for(var c in f)s+="&"+encodeURIComponent(c)+"="+encodeURIComponent(f[c])}return s};var zs=i=>{if(typeof F.getAuthorizers()[i.transport]>"u")throw`'${i.transport}' is not a recognized auth transport`;return(n,s)=>{const c=qs(n,i);F.getAuthorizers()[i.transport](F,c,i,C.UserAuthentication,s)}};const Vs=(i,n)=>{var s="socket_id="+encodeURIComponent(i.socketId);s+="&channel_name="+encodeURIComponent(i.channelName);for(var c in n.params)s+="&"+encodeURIComponent(c)+"="+encodeURIComponent(n.params[c]);if(n.paramsProvider!=null){let f=n.paramsProvider();for(var c in f)s+="&"+encodeURIComponent(c)+"="+encodeURIComponent(f[c])}return s};var $s=i=>{if(typeof F.getAuthorizers()[i.transport]>"u")throw`'${i.transport}' is not a recognized auth transport`;return(n,s)=>{const c=Vs(n,i);F.getAuthorizers()[i.transport](F,c,i,C.ChannelAuthorization,s)}};const Js=(i,n,s)=>{const c={authTransport:n.transport,authEndpoint:n.endpoint,auth:{params:n.params,headers:n.headers}};return(f,S)=>{const P=i.channel(f.channelName);s(P,c).authorize(f.socketId,S)}};function Xs(i,n){let s={activityTimeout:i.activityTimeout||w.activityTimeout,cluster:i.cluster,httpPath:i.httpPath||w.httpPath,httpPort:i.httpPort||w.httpPort,httpsPort:i.httpsPort||w.httpsPort,pongTimeout:i.pongTimeout||w.pongTimeout,statsHost:i.statsHost||w.stats_host,unavailableTimeout:i.unavailableTimeout||w.unavailableTimeout,wsPath:i.wsPath||w.wsPath,wsPort:i.wsPort||w.wsPort,wssPort:i.wssPort||w.wssPort,enableStats:Ys(i),httpHost:Ws(i),useTLS:Qs(i),wsHost:Ks(i),userAuthenticator:Zs(i),channelAuthorizer:ti(i,n)};return"disabledTransports"in i&&(s.disabledTransports=i.disabledTransports),"enabledTransports"in i&&(s.enabledTransports=i.enabledTransports),"ignoreNullOrigin"in i&&(s.ignoreNullOrigin=i.ignoreNullOrigin),"timelineParams"in i&&(s.timelineParams=i.timelineParams),"nacl"in i&&(s.nacl=i.nacl),s}function Ws(i){return i.httpHost?i.httpHost:i.cluster?`sockjs-${i.cluster}.pusher.com`:w.httpHost}function Ks(i){return i.wsHost?i.wsHost:Gs(i.cluster)}function Gs(i){return`ws-${i}.pusher.com`}function Qs(i){return F.getProtocol()==="https:"?!0:i.forceTLS!==!1}function Ys(i){return"enableStats"in i?i.enableStats:"disableStats"in i?!i.disableStats:!1}function Zs(i){const n=Object.assign(Object.assign({},w.userAuthentication),i.userAuthentication);return"customHandler"in n&&n.customHandler!=null?n.customHandler:zs(n)}function ei(i,n){let s;return"channelAuthorization"in i?s=Object.assign(Object.assign({},w.channelAuthorization),i.channelAuthorization):(s={transport:i.authTransport||w.authTransport,endpoint:i.authEndpoint||w.authEndpoint},"auth"in i&&("params"in i.auth&&(s.params=i.auth.params),"headers"in i.auth&&(s.headers=i.auth.headers)),"authorizer"in i&&(s.customHandler=Js(n,s,i.authorizer))),s}function ti(i,n){const s=ei(i,n);return"customHandler"in s&&s.customHandler!=null?s.customHandler:$s(s)}class ni extends ve{constructor(n){super(function(s,c){W.debug(`No callbacks on watchlist events for ${s}`)}),this.pusher=n,this.bindWatchlistInternalEvent()}handleEvent(n){n.data.events.forEach(s=>{this.emit(s.name,s)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",n=>{var s=n.event;s==="pusher_internal:watchlist_events"&&this.handleEvent(n)})}}function ri(){let i,n;return{promise:new Promise((c,f)=>{i=c,n=f}),resolve:i,reject:n}}var si=ri;class ii extends ve{constructor(n){super(function(s,c){W.debug("No callbacks on user for "+s)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(s,c)=>{if(s){W.warn(`Error during signin: ${s}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:c.auth,user_data:c.user_data})},this.pusher=n,this.pusher.connection.bind("state_change",({previous:s,current:c})=>{s!=="connected"&&c==="connected"&&this._signin(),s==="connected"&&c!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new ni(n),this.pusher.connection.bind("message",s=>{var c=s.event;c==="pusher:signin_success"&&this._onSigninSuccess(s.data),this.serverToUserChannel&&this.serverToUserChannel.name===s.channel&&this.serverToUserChannel.handleEvent(s)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(n){try{this.user_data=JSON.parse(n.user_data)}catch{W.error(`Failed parsing user data after signin: ${n.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){W.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const n=s=>{s.subscriptionPending&&s.subscriptionCancelled?s.reinstateSubscription():!s.subscriptionPending&&this.pusher.connection.state==="connected"&&s.subscribe()};this.serverToUserChannel=new ze(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((s,c)=>{s.indexOf("pusher_internal:")===0||s.indexOf("pusher:")===0||this.emit(s,c)}),n(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:n,resolve:s}=si();n.done=!1;const c=()=>{n.done=!0};n.then(c).catch(c),this.signinDonePromise=n,this._signinDoneResolve=s}}class ce{static ready(){ce.isReady=!0;for(var n=0,s=ce.instances.length;n<s;n++)ce.instances[n].connect()}static getClientFeatures(){return Ke(gt({ws:F.Transports.ws},function(n){return n.isSupported({})}))}constructor(n,s){oi(n),Ms(s),this.key=n,this.config=Xs(s,this),this.channels=xe.createChannels(),this.global_emitter=new ve,this.sessionID=F.randomInt(1e9),this.timeline=new js(this.key,this.sessionID,{cluster:this.config.cluster,features:ce.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Pt.INFO,version:w.VERSION}),this.config.enableStats&&(this.timelineSender=xe.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+F.TimelineTransport.name}));var c=f=>F.getDefaultStrategy(this.config,f,Bs);this.connection=xe.createConnectionManager(this.key,{getStrategy:c,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",f=>{var S=f.event,P=S.indexOf("pusher_internal:")===0;if(f.channel){var D=this.channel(f.channel);D&&D.handleEvent(f)}P||this.global_emitter.emit(f.event,f.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",f=>{W.warn(f)}),ce.instances.push(this),this.timeline.info({instances:ce.instances.length}),this.user=new ii(this),ce.isReady&&this.connect()}channel(n){return this.channels.find(n)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var n=this.connection.isUsingTLS(),s=this.timelineSender;this.timelineSenderTimer=new Qt(6e4,function(){s.send(n)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(n,s,c){return this.global_emitter.bind(n,s,c),this}unbind(n,s,c){return this.global_emitter.unbind(n,s,c),this}bind_global(n){return this.global_emitter.bind_global(n),this}unbind_global(n){return this.global_emitter.unbind_global(n),this}unbind_all(n){return this.global_emitter.unbind_all(),this}subscribeAll(){var n;for(n in this.channels.channels)this.channels.channels.hasOwnProperty(n)&&this.subscribe(n)}subscribe(n){var s=this.channels.add(n,this);return s.subscriptionPending&&s.subscriptionCancelled?s.reinstateSubscription():!s.subscriptionPending&&this.connection.state==="connected"&&s.subscribe(),s}unsubscribe(n){var s=this.channels.find(n);s&&s.subscriptionPending?s.cancelSubscription():(s=this.channels.remove(n),s&&s.subscribed&&s.unsubscribe())}send_event(n,s,c){return this.connection.send_event(n,s,c)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}ce.instances=[],ce.isReady=!1,ce.logToConsole=!1,ce.Runtime=F,ce.ScriptReceivers=F.ScriptReceivers,ce.DependenciesReceivers=F.DependenciesReceivers,ce.auth_callbacks=F.auth_callbacks;var fn=o.default=ce;function oi(i){if(i==null)throw"You must pass your app key when you instantiate Pusher."}F.setup(ce)}])})}(bn)),bn.exports}var ra=na();const sa=ta(ra);window.Pusher=sa;var pr;(pr=document.querySelector('meta[name="csrf-token"]'))==null||pr.getAttribute("content");window.Echo=new ea({broadcaster:"reverb",key:void 0,wsHost:void 0,wsPort:80,wssPort:443,forceTLS:!0,enabledTransports:["ws","wss"],wsPath:void 0});window.axios=ee;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Pe;(function(t){t.Range="range",t.Steps="steps",t.Positions="positions",t.Count="count",t.Values="values"})(Pe||(Pe={}));var he;(function(t){t[t.None=-1]="None",t[t.NoValue=0]="NoValue",t[t.LargeValue=1]="LargeValue",t[t.SmallValue=2]="SmallValue"})(he||(he={}));function ia(t){return Ft(t)&&typeof t.from=="function"}function Ft(t){return typeof t=="object"&&typeof t.to=="function"}function ur(t){t.parentElement.removeChild(t)}function En(t){return t!=null}function lr(t){t.preventDefault()}function oa(t){return t.filter(function(e){return this[e]?!1:this[e]=!0},{})}function aa(t,e){return Math.round(t/e)*e}function ca(t,e){var r=t.getBoundingClientRect(),o=t.ownerDocument,a=o.documentElement,l=Xr(o);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(l.x=0),e?r.top+l.y-a.clientTop:r.left+l.x-a.clientLeft}function be(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}function hr(t,e,r){r>0&&(ue(t,e),setTimeout(function(){Dt(t,e)},r))}function fr(t){return Math.max(Math.min(t,100),0)}function $t(t){return Array.isArray(t)?t:[t]}function ua(t){t=String(t);var e=t.split(".");return e.length>1?e[1].length:0}function ue(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function Dt(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function la(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function Xr(t){var e=window.pageXOffset!==void 0,r=(t.compatMode||"")==="CSS1Compat",o=e?window.pageXOffset:r?t.documentElement.scrollLeft:t.body.scrollLeft,a=e?window.pageYOffset:r?t.documentElement.scrollTop:t.body.scrollTop;return{x:o,y:a}}function ha(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function fa(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch{}return t}function da(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function Nn(t,e){return 100/(e-t)}function kn(t,e,r){return e*100/(t[r+1]-t[r])}function pa(t,e){return kn(t,t[0]<0?e+Math.abs(t[0]):e-t[0],0)}function ma(t,e){return e*(t[1]-t[0])/100+t[0]}function ct(t,e){for(var r=1;t>=e[r];)r+=1;return r}function ga(t,e,r){if(r>=t.slice(-1)[0])return 100;var o=ct(r,t),a=t[o-1],l=t[o],u=e[o-1],m=e[o];return u+pa([a,l],r)/Nn(u,m)}function va(t,e,r){if(r>=100)return t.slice(-1)[0];var o=ct(r,e),a=t[o-1],l=t[o],u=e[o-1],m=e[o];return ma([a,l],(r-u)*Nn(u,m))}function ba(t,e,r,o){if(o===100)return o;var a=ct(o,t),l=t[a-1],u=t[a];return r?o-l>(u-l)/2?u:l:e[a-1]?t[a-1]+aa(o-t[a-1],e[a-1]):o}var Wr=function(){function t(e,r,o){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[o||!1],this.xNumSteps=[!1],this.snap=r;var a,l=[];for(Object.keys(e).forEach(function(u){l.push([$t(e[u]),u])}),l.sort(function(u,m){return u[0][0]-m[0][0]}),a=0;a<l.length;a++)this.handleEntryPoint(l[a][1],l[a][0]);for(this.xNumSteps=this.xSteps.slice(0),a=0;a<this.xNumSteps.length;a++)this.handleStepPoint(a,this.xNumSteps[a])}return t.prototype.getDistance=function(e){for(var r=[],o=0;o<this.xNumSteps.length-1;o++)r[o]=kn(this.xVal,e,o);return r},t.prototype.getAbsoluteDistance=function(e,r,o){var a=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[a+1];)a++;else e===this.xPct[this.xPct.length-1]&&(a=this.xPct.length-2);!o&&e===this.xPct[a+1]&&a++,r===null&&(r=[]);var l,u=1,m=r[a],w=0,v=0,y=0,_=0;for(o?l=(e-this.xPct[a])/(this.xPct[a+1]-this.xPct[a]):l=(this.xPct[a+1]-e)/(this.xPct[a+1]-this.xPct[a]);m>0;)w=this.xPct[a+1+_]-this.xPct[a+_],r[a+_]*u+100-l*100>100?(v=w*l,u=(m-100*l)/r[a+_],l=1):(v=r[a+_]*w/100*u,u=0),o?(y=y-v,this.xPct.length+_>=1&&_--):(y=y+v,this.xPct.length-_>=1&&_++),m=r[a+_]*u;return e+y},t.prototype.toStepping=function(e){return e=ga(this.xVal,this.xPct,e),e},t.prototype.fromStepping=function(e){return va(this.xVal,this.xPct,e)},t.prototype.getStep=function(e){return e=ba(this.xPct,this.xSteps,this.snap,e),e},t.prototype.getDefaultStep=function(e,r,o){var a=ct(e,this.xPct);return(e===100||r&&e===this.xPct[a-1])&&(a=Math.max(a-1,1)),(this.xVal[a]-this.xVal[a-1])/o},t.prototype.getNearbySteps=function(e){var r=ct(e,this.xPct);return{stepBefore:{startValue:this.xVal[r-2],step:this.xNumSteps[r-2],highestStep:this.xHighestCompleteStep[r-2]},thisStep:{startValue:this.xVal[r-1],step:this.xNumSteps[r-1],highestStep:this.xHighestCompleteStep[r-1]},stepAfter:{startValue:this.xVal[r],step:this.xNumSteps[r],highestStep:this.xHighestCompleteStep[r]}}},t.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(ua);return Math.max.apply(null,e)},t.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},t.prototype.convert=function(e){return this.getStep(this.toStepping(e))},t.prototype.handleEntryPoint=function(e,r){var o;if(e==="min"?o=0:e==="max"?o=100:o=parseFloat(e),!be(o)||!be(r[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(o),this.xVal.push(r[0]);var a=Number(r[1]);o?this.xSteps.push(isNaN(a)?!1:a):isNaN(a)||(this.xSteps[0]=a),this.xHighestCompleteStep.push(0)},t.prototype.handleStepPoint=function(e,r){if(r){if(this.xVal[e]===this.xVal[e+1]){this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e];return}this.xSteps[e]=kn([this.xVal[e],this.xVal[e+1]],r,0)/Nn(this.xPct[e],this.xPct[e+1]);var o=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],a=Math.ceil(Number(o.toFixed(3))-1),l=this.xVal[e]+this.xNumSteps[e]*a;this.xHighestCompleteStep[e]=l}},t}(),dr={to:function(t){return t===void 0?"":t.toFixed(2)},from:Number},Kr={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},Te={tooltips:".__tooltips",aria:".__aria"};function ya(t,e){if(!be(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function wa(t,e){if(!be(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");t.keyboardPageMultiplier=e}function Sa(t,e){if(!be(e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");t.keyboardMultiplier=e}function Ca(t,e){if(!be(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");t.keyboardDefaultStep=e}function _a(t,e){if(typeof e!="object"||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(e.min===void 0||e.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");t.spectrum=new Wr(e,t.snap||!1,t.singleStep)}function xa(t,e){if(e=$t(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function Ea(t,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");t.snap=e}function ka(t,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");t.animate=e}function Ta(t,e){if(typeof e!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");t.animationDuration=e}function Gr(t,e){var r=[!1],o;if(e==="lower"?e=[!0,!1]:e==="upper"&&(e=[!1,!0]),e===!0||e===!1){for(o=1;o<t.handles;o++)r.push(e);r.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");r=e}t.connect=r}function Pa(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function Qr(t,e){if(!be(e))throw new Error("noUiSlider: 'margin' option must be numeric.");e!==0&&(t.margin=t.spectrum.getDistance(e))}function Aa(t,e){if(!be(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Ra(t,e){var r;if(!be(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&!(e.length===2||be(e[0])||be(e[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(e!==0){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],r=0;r<t.spectrum.xNumSteps.length-1;r++)if(t.padding[0][r]<0||t.padding[1][r]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var o=e[0]+e[1],a=t.spectrum.xVal[0],l=t.spectrum.xVal[t.spectrum.xVal.length-1];if(o/(l-a)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Oa(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function La(t,e){if(typeof e!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var r=e.indexOf("tap")>=0,o=e.indexOf("drag")>=0,a=e.indexOf("fixed")>=0,l=e.indexOf("snap")>=0,u=e.indexOf("hover")>=0,m=e.indexOf("unconstrained")>=0,w=e.indexOf("invert-connects")>=0,v=e.indexOf("drag-all")>=0,y=e.indexOf("smooth-steps")>=0;if(a){if(t.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");Qr(t,t.start[1]-t.start[0])}if(w&&t.handles!==2)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(m&&(t.margin||t.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:r||l,drag:o,dragAll:v,smoothSteps:y,fixed:a,snap:l,hover:u,unconstrained:m,invertConnects:w}}function Na(t,e){if(e!==!1)if(e===!0||Ft(e)){t.tooltips=[];for(var r=0;r<t.handles;r++)t.tooltips.push(e)}else{if(e=$t(e),e.length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.forEach(function(o){if(typeof o!="boolean"&&!Ft(o))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),t.tooltips=e}}function Da(t,e){if(e.length!==t.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");t.handleAttributes=e}function Ua(t,e){if(!Ft(e))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");t.ariaFormat=e}function ja(t,e){if(!ia(e))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");t.format=e}function Ia(t,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");t.keyboardSupport=e}function Fa(t,e){t.documentElement=e}function Ba(t,e){if(typeof e!="string"&&e!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function Ha(t,e){if(typeof e!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof t.cssPrefix=="string"?(t.cssClasses={},Object.keys(e).forEach(function(r){t.cssClasses[r]=t.cssPrefix+e[r]})):t.cssClasses=e}function Yr(t){var e={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:dr,format:dr},r={step:{r:!1,t:ya},keyboardPageMultiplier:{r:!1,t:wa},keyboardMultiplier:{r:!1,t:Sa},keyboardDefaultStep:{r:!1,t:Ca},start:{r:!0,t:xa},connect:{r:!0,t:Gr},direction:{r:!0,t:Oa},snap:{r:!1,t:Ea},animate:{r:!1,t:ka},animationDuration:{r:!1,t:Ta},range:{r:!0,t:_a},orientation:{r:!1,t:Pa},margin:{r:!1,t:Qr},limit:{r:!1,t:Aa},padding:{r:!1,t:Ra},behaviour:{r:!0,t:La},ariaFormat:{r:!1,t:Ua},format:{r:!1,t:ja},tooltips:{r:!1,t:Na},keyboardSupport:{r:!0,t:Ia},documentElement:{r:!1,t:Fa},cssPrefix:{r:!0,t:Ba},cssClasses:{r:!0,t:Ha},handleAttributes:{r:!1,t:Da}},o={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Kr,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(r).forEach(function(w){if(!En(t[w])&&o[w]===void 0){if(r[w].r)throw new Error("noUiSlider: '"+w+"' is required.");return}r[w].t(e,En(t[w])?t[w]:o[w])}),e.pips=t.pips;var a=document.createElement("div"),l=a.style.msTransform!==void 0,u=a.style.transform!==void 0;e.transformRule=u?"transform":l?"msTransform":"webkitTransform";var m=[["left","top"],["right","bottom"]];return e.style=m[e.dir][e.ort],e}function Ma(t,e,r){var o=ha(),a=da(),l=a&&fa(),u=t,m,w,v,y,_,O,T=e.spectrum,E=[],C=[],g=[],k=0,L={},j=!1,M=t.ownerDocument,H=e.documentElement||M.documentElement,G=M.body,ie=M.dir==="rtl"||e.ort===1?0:100;function X(h,d){var p=M.createElement("div");return d&&ue(p,d),h.appendChild(p),p}function fe(h,d){var p=X(h,e.cssClasses.origin),x=X(p,e.cssClasses.handle);if(X(x,e.cssClasses.touchArea),x.setAttribute("data-handle",String(d)),e.keyboardSupport&&(x.setAttribute("tabindex","0"),x.addEventListener("keydown",function(R){return vt(R,d)})),e.handleAttributes!==void 0){var A=e.handleAttributes[d];Object.keys(A).forEach(function(R){x.setAttribute(R,A[R])})}return x.setAttribute("role","slider"),x.setAttribute("aria-orientation",e.ort?"vertical":"horizontal"),d===0?ue(x,e.cssClasses.handleLower):d===e.handles-1&&ue(x,e.cssClasses.handleUpper),p.handle=x,p}function me(h,d){return d?X(h,e.cssClasses.connect):!1}function Jt(h,d){w=X(d,e.cssClasses.connects),v=[],y=[],y.push(me(w,h[0]));for(var p=0;p<e.handles;p++)v.push(fe(d,p)),g[p]=p,y.push(me(w,h[p+1]))}function Ae(h){ue(h,e.cssClasses.target),e.dir===0?ue(h,e.cssClasses.ltr):ue(h,e.cssClasses.rtl),e.ort===0?ue(h,e.cssClasses.horizontal):ue(h,e.cssClasses.vertical);var d=getComputedStyle(h).direction;return d==="rtl"?ue(h,e.cssClasses.textDirectionRtl):ue(h,e.cssClasses.textDirectionLtr),X(h,e.cssClasses.base)}function He(h,d){return!e.tooltips||!e.tooltips[d]?!1:X(h.firstChild,e.cssClasses.tooltip)}function dt(){return u.hasAttribute("disabled")}function Je(h){var d=v[h];return d.hasAttribute("disabled")}function Xt(h){h!=null?(v[h].setAttribute("disabled",""),v[h].handle.removeAttribute("tabindex")):(u.setAttribute("disabled",""),v.forEach(function(d){d.handle.removeAttribute("tabindex")}))}function Wt(h){h!=null?(v[h].removeAttribute("disabled"),v[h].handle.setAttribute("tabindex","0")):(u.removeAttribute("disabled"),v.forEach(function(d){d.removeAttribute("disabled"),d.handle.setAttribute("tabindex","0")}))}function Xe(){O&&(Oe("update"+Te.tooltips),O.forEach(function(h){h&&ur(h)}),O=null)}function We(){Xe(),O=v.map(He),Qe("update"+Te.tooltips,function(h,d,p){if(!(!O||!e.tooltips)&&O[d]!==!1){var x=h[d];e.tooltips[d]!==!0&&(x=e.tooltips[d].to(p[d])),O[d].innerHTML=x}})}function Kt(){Oe("update"+Te.aria),Qe("update"+Te.aria,function(h,d,p,x,A){g.forEach(function(R){var U=v[R],N=qe(C,R,0,!0,!0,!0),V=qe(C,R,100,!0,!0,!0),$=A[R],Q=String(e.ariaFormat.to(p[R]));N=T.fromStepping(N).toFixed(1),V=T.fromStepping(V).toFixed(1),$=T.fromStepping($).toFixed(1),U.children[0].setAttribute("aria-valuemin",N),U.children[0].setAttribute("aria-valuemax",V),U.children[0].setAttribute("aria-valuenow",$),U.children[0].setAttribute("aria-valuetext",Q)})})}function Gt(h){if(h.mode===Pe.Range||h.mode===Pe.Steps)return T.xVal;if(h.mode===Pe.Count){if(h.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var d=h.values-1,p=100/d,x=[];d--;)x[d]=d*p;return x.push(100),we(x,h.stepped)}return h.mode===Pe.Positions?we(h.values,h.stepped):h.mode===Pe.Values?h.stepped?h.values.map(function(A){return T.fromStepping(T.getStep(T.toStepping(A)))}):h.values:[]}function we(h,d){return h.map(function(p){return T.fromStepping(d?T.getStep(p):p)})}function Qt(h){function d($,Q){return Number(($+Q).toFixed(7))}var p=Gt(h),x={},A=T.xVal[0],R=T.xVal[T.xVal.length-1],U=!1,N=!1,V=0;return p=oa(p.slice().sort(function($,Q){return $-Q})),p[0]!==A&&(p.unshift(A),U=!0),p[p.length-1]!==R&&(p.push(R),N=!0),p.forEach(function($,Q){var Y,q,te,ae=$,ne=p[Q+1],Z,tt,nt,rt,ze,De,Et,kt=h.mode===Pe.Steps;for(kt&&(Y=T.xNumSteps[Q]),Y||(Y=ne-ae),ne===void 0&&(ne=ae),Y=Math.max(Y,1e-7),q=ae;q<=ne;q=d(q,Y)){for(Z=T.toStepping(q),tt=Z-V,ze=tt/(h.density||1),De=Math.round(ze),Et=tt/De,te=1;te<=De;te+=1)nt=V+te*Et,x[nt.toFixed(5)]=[T.fromStepping(nt),0];rt=p.indexOf(q)>-1?he.LargeValue:kt?he.SmallValue:he.NoValue,!Q&&U&&q!==ne&&(rt=0),q===ne&&N||(x[Z.toFixed(5)]=[q,rt]),V=Z}}),x}function Yt(h,d,p){var x,A,R=M.createElement("div"),U=(x={},x[he.None]="",x[he.NoValue]=e.cssClasses.valueNormal,x[he.LargeValue]=e.cssClasses.valueLarge,x[he.SmallValue]=e.cssClasses.valueSub,x),N=(A={},A[he.None]="",A[he.NoValue]=e.cssClasses.markerNormal,A[he.LargeValue]=e.cssClasses.markerLarge,A[he.SmallValue]=e.cssClasses.markerSub,A),V=[e.cssClasses.valueHorizontal,e.cssClasses.valueVertical],$=[e.cssClasses.markerHorizontal,e.cssClasses.markerVertical];ue(R,e.cssClasses.pips),ue(R,e.ort===0?e.cssClasses.pipsHorizontal:e.cssClasses.pipsVertical);function Q(q,te){var ae=te===e.cssClasses.value,ne=ae?V:$,Z=ae?U:N;return te+" "+ne[e.ort]+" "+Z[q]}function Y(q,te,ae){if(ae=d?d(te,ae):ae,ae!==he.None){var ne=X(R,!1);ne.className=Q(ae,e.cssClasses.marker),ne.style[e.style]=q+"%",ae>he.NoValue&&(ne=X(R,!1),ne.className=Q(ae,e.cssClasses.value),ne.setAttribute("data-value",String(te)),ne.style[e.style]=q+"%",ne.innerHTML=String(p.to(te)))}}return Object.keys(h).forEach(function(q){Y(q,h[q][0],h[q][1])}),R}function re(){_&&(ur(_),_=null)}function oe(h){re();var d=Qt(h),p=h.filter,x=h.format||{to:function(A){return String(Math.round(A))}};return _=u.appendChild(Yt(d,p,x)),_}function pt(){var h=m.getBoundingClientRect(),d="offset"+["Width","Height"][e.ort];return e.ort===0?h.width||m[d]:h.height||m[d]}function Se(h,d,p,x){var A=function(U){var N=ge(U,x.pageOffset,x.target||d);if(!N||dt()&&!x.doNotReject||la(u,e.cssClasses.tap)&&!x.doNotReject||h===o.start&&N.buttons!==void 0&&N.buttons>1||x.hover&&N.buttons)return!1;l||N.preventDefault(),N.calcPoint=N.points[e.ort],p(N,x)},R=[];return h.split(" ").forEach(function(U){d.addEventListener(U,A,l?{passive:!0}:!1),R.push([U,A])}),R}function ge(h,d,p){var x=h.type.indexOf("touch")===0,A=h.type.indexOf("mouse")===0,R=h.type.indexOf("pointer")===0,U=0,N=0;if(h.type.indexOf("MSPointer")===0&&(R=!0),h.type==="mousedown"&&!h.buttons&&!h.touches)return!1;if(x){var V=function(Y){var q=Y.target;return q===p||p.contains(q)||h.composed&&h.composedPath().shift()===p};if(h.type==="touchstart"){var $=Array.prototype.filter.call(h.touches,V);if($.length>1)return!1;U=$[0].pageX,N=$[0].pageY}else{var Q=Array.prototype.find.call(h.changedTouches,V);if(!Q)return!1;U=Q.pageX,N=Q.pageY}}return d=d||Xr(M),(A||R)&&(U=h.clientX+d.x,N=h.clientY+d.y),h.pageOffset=d,h.points=[U,N],h.cursor=A||R,h}function Ke(h){var d=h-ca(m,e.ort),p=d*100/pt();return p=fr(p),e.dir?100-p:p}function Zt(h){var d=100,p=!1;return v.forEach(function(x,A){if(!Je(A)){var R=C[A],U=Math.abs(R-h),N=U===100&&d===100,V=U<d,$=U<=d&&h>R;(V||$||N)&&(p=A,d=U)}}),p}function Re(h,d){h.type==="mouseout"&&h.target.nodeName==="HTML"&&h.relatedTarget===null&&Ge(h,d)}function mt(h,d){if(navigator.appVersion.indexOf("MSIE 9")===-1&&h.buttons===0&&d.buttonsProperty!==0)return Ge(h,d);var p=(e.dir?-1:1)*(h.calcPoint-d.startCalcPoint),x=p*100/d.baseSize;yt(p>0,x,d.locations,d.handleNumbers,d.connect)}function Ge(h,d){d.handle&&(Dt(d.handle,e.cssClasses.active),k-=1),d.listeners.forEach(function(p){H.removeEventListener(p[0],p[1])}),k===0&&(Dt(u,e.cssClasses.drag),Ye(),h.cursor&&(G.style.cursor="",G.removeEventListener("selectstart",lr))),e.events.smoothSteps&&(d.handleNumbers.forEach(function(p){_e(p,C[p],!0,!0,!1,!1)}),d.handleNumbers.forEach(function(p){K("update",p)})),d.handleNumbers.forEach(function(p){K("change",p),K("set",p),K("end",p)})}function Me(h,d){if(!d.handleNumbers.some(Je)){var p;if(d.handleNumbers.length===1){var x=v[d.handleNumbers[0]];p=x.children[0],k+=1,ue(p,e.cssClasses.active)}h.stopPropagation();var A=[],R=Se(o.move,H,mt,{target:h.target,handle:p,connect:d.connect,listeners:A,startCalcPoint:h.calcPoint,baseSize:pt(),pageOffset:h.pageOffset,handleNumbers:d.handleNumbers,buttonsProperty:h.buttons,locations:C.slice()}),U=Se(o.end,H,Ge,{target:h.target,handle:p,listeners:A,doNotReject:!0,handleNumbers:d.handleNumbers}),N=Se("mouseout",H,Re,{target:h.target,handle:p,listeners:A,doNotReject:!0,handleNumbers:d.handleNumbers});A.push.apply(A,R.concat(U,N)),h.cursor&&(G.style.cursor=getComputedStyle(h.target).cursor,v.length>1&&ue(u,e.cssClasses.drag),G.addEventListener("selectstart",lr,!1)),d.handleNumbers.forEach(function(V){K("start",V)})}}function gt(h){h.stopPropagation();var d=Ke(h.calcPoint),p=Zt(d);p!==!1&&(e.events.snap||hr(u,e.cssClasses.tap,e.animationDuration),_e(p,d,!0,!0),Ye(),K("slide",p,!0),K("update",p,!0),e.events.snap?Me(h,{handleNumbers:[p]}):(K("change",p,!0),K("set",p,!0)))}function en(h){var d=Ke(h.calcPoint),p=T.getStep(d),x=T.fromStepping(p);Object.keys(L).forEach(function(A){A.split(".")[0]==="hover"&&L[A].forEach(function(R){R.call(Ne,x)})})}function vt(h,d){if(dt()||Je(d))return!1;var p=["Left","Right"],x=["Down","Up"],A=["PageDown","PageUp"],R=["Home","End"];e.dir&&!e.ort?p.reverse():e.ort&&!e.dir&&(x.reverse(),A.reverse());var U=h.key.replace("Arrow",""),N=U===A[0],V=U===A[1],$=U===x[0]||U===p[0]||N,Q=U===x[1]||U===p[1]||V,Y=U===R[0],q=U===R[1];if(!$&&!Q&&!Y&&!q)return!0;h.preventDefault();var te;if(Q||$){var ae=$?0:1,ne=_t(d),Z=ne[ae];if(Z===null)return!1;Z===!1&&(Z=T.getDefaultStep(C[d],$,e.keyboardDefaultStep)),V||N?Z*=e.keyboardPageMultiplier:Z*=e.keyboardMultiplier,Z=Math.max(Z,1e-7),Z=($?-1:1)*Z,te=E[d]+Z}else q?te=e.spectrum.xVal[e.spectrum.xVal.length-1]:te=e.spectrum.xVal[0];return _e(d,T.toStepping(te),!0,!0),K("slide",d),K("update",d),K("change",d),K("set",d),!1}function bt(h){h.fixed||v.forEach(function(d,p){Se(o.start,d.children[0],Me,{handleNumbers:[p]})}),h.tap&&Se(o.start,m,gt,{}),h.hover&&Se(o.move,m,en,{hover:!0}),h.drag&&y.forEach(function(d,p){if(!(d===!1||p===0||p===y.length-1)){var x=v[p-1],A=v[p],R=[d],U=[x,A],N=[p-1,p];ue(d,e.cssClasses.draggable),h.fixed&&(R.push(x.children[0]),R.push(A.children[0])),h.dragAll&&(U=v,N=g),R.forEach(function(V){Se(o.start,V,Me,{handles:U,handleNumbers:N,connect:d})})}})}function Qe(h,d){L[h]=L[h]||[],L[h].push(d),h.split(".")[0]==="update"&&v.forEach(function(p,x){K("update",x)})}function tn(h){return h===Te.aria||h===Te.tooltips}function Oe(h){var d=h&&h.split(".")[0],p=d?h.substring(d.length):h;Object.keys(L).forEach(function(x){var A=x.split(".")[0],R=x.substring(A.length);(!d||d===A)&&(!p||p===R)&&(!tn(R)||p===R)&&delete L[x]})}function K(h,d,p){Object.keys(L).forEach(function(x){var A=x.split(".")[0];h===A&&L[x].forEach(function(R){R.call(Ne,E.map(e.format.to),d,E.slice(),p||!1,C.slice(),Ne)})})}function qe(h,d,p,x,A,R,U){var N;return v.length>1&&!e.events.unconstrained&&(x&&d>0&&(N=T.getAbsoluteDistance(h[d-1],e.margin,!1),p=Math.max(p,N)),A&&d<v.length-1&&(N=T.getAbsoluteDistance(h[d+1],e.margin,!0),p=Math.min(p,N))),v.length>1&&e.limit&&(x&&d>0&&(N=T.getAbsoluteDistance(h[d-1],e.limit,!1),p=Math.min(p,N)),A&&d<v.length-1&&(N=T.getAbsoluteDistance(h[d+1],e.limit,!0),p=Math.max(p,N))),e.padding&&(d===0&&(N=T.getAbsoluteDistance(0,e.padding[0],!1),p=Math.max(p,N)),d===v.length-1&&(N=T.getAbsoluteDistance(100,e.padding[1],!0),p=Math.min(p,N))),U||(p=T.getStep(p)),p=fr(p),p===h[d]&&!R?!1:p}function W(h,d){var p=e.ort;return(p?d:h)+", "+(p?h:d)}function yt(h,d,p,x,A){var R=p.slice(),U=x[0],N=e.events.smoothSteps,V=[!h,h],$=[h,!h];x=x.slice(),h&&x.reverse(),x.length>1?x.forEach(function(Y,q){var te=qe(R,Y,R[Y]+d,V[q],$[q],!1,N);te===!1?d=0:(d=te-R[Y],R[Y]=te)}):V=$=[!0];var Q=!1;x.forEach(function(Y,q){Q=_e(Y,p[Y]+d,V[q],$[q],!1,N)||Q}),Q&&(x.forEach(function(Y){K("update",Y),K("slide",Y)}),A!=null&&K("drag",U))}function wt(h,d){return e.dir?100-h-d:h}function nn(h,d){C[h]=d,E[h]=T.fromStepping(d);var p=wt(d,0)-ie,x="translate("+W(p+"%","0")+")";if(v[h].style[e.transformRule]=x,e.events.invertConnects&&C.length>1){var A=C.every(function(R,U,N){return U===0||R>=N[U-1]});if(j!==!A){ke();return}}Le(h),Le(h+1),j&&(Le(h-1),Le(h+2))}function Ye(){g.forEach(function(h){var d=C[h]>50?-1:1,p=3+(v.length+d*h);v[h].style.zIndex=String(p)})}function _e(h,d,p,x,A,R){return A||(d=qe(C,h,d,p,x,!1,R)),d===!1?!1:(nn(h,d),!0)}function Le(h){if(y[h]){var d=C.slice();j&&d.sort(function(N,V){return N-V});var p=0,x=100;h!==0&&(p=d[h-1]),h!==y.length-1&&(x=d[h]);var A=x-p,R="translate("+W(wt(p,A)+"%","0")+")",U="scale("+W(A/100,"1")+")";y[h].style[e.transformRule]=R+" "+U}}function St(h,d){return h===null||h===!1||h===void 0||(typeof h=="number"&&(h=String(h)),h=e.format.from(h),h!==!1&&(h=T.toStepping(h)),h===!1||isNaN(h))?C[d]:h}function Ee(h,d,p){var x=$t(h),A=C[0]===void 0;d=d===void 0?!0:d,e.animate&&!A&&hr(u,e.cssClasses.tap,e.animationDuration),g.forEach(function(N){_e(N,St(x[N],N),!0,!1,p)});var R=g.length===1?0:1;if(A&&T.hasNoSize()&&(p=!0,C[0]=0,g.length>1)){var U=100/(g.length-1);g.forEach(function(N){C[N]=N*U})}for(;R<g.length;++R)g.forEach(function(N){_e(N,C[N],!0,!0,p)});Ye(),g.forEach(function(N){K("update",N),x[N]!==null&&d&&K("set",N)})}function Ze(h){Ee(e.start,h)}function rn(h,d,p,x){if(h=Number(h),!(h>=0&&h<g.length))throw new Error("noUiSlider: invalid handle number, got: "+h);_e(h,St(d,h),!0,!0,x),K("update",h),p&&K("set",h)}function Ct(h){if(h===void 0&&(h=!1),h)return E.length===1?E[0]:E.slice(0);var d=E.map(e.format.to);return d.length===1?d[0]:d}function sn(){for(Oe(Te.aria),Oe(Te.tooltips),Object.keys(e.cssClasses).forEach(function(h){Dt(u,e.cssClasses[h])});u.firstChild;)u.removeChild(u.firstChild);delete u.noUiSlider}function _t(h){var d=C[h],p=T.getNearbySteps(d),x=E[h],A=p.thisStep.step,R=null;if(e.snap)return[x-p.stepBefore.startValue||null,p.stepAfter.startValue-x||null];A!==!1&&x+A>p.stepAfter.startValue&&(A=p.stepAfter.startValue-x),x>p.thisStep.startValue?R=p.thisStep.step:p.stepBefore.step===!1?R=!1:R=x-p.stepBefore.highestStep,d===100?A=null:d===0&&(R=null);var U=T.countStepDecimals();return A!==null&&A!==!1&&(A=Number(A.toFixed(U))),R!==null&&R!==!1&&(R=Number(R.toFixed(U))),[R,A]}function et(){return g.map(_t)}function ve(h,d){var p=Ct(),x=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];x.forEach(function(R){h[R]!==void 0&&(r[R]=h[R])});var A=Yr(r);x.forEach(function(R){h[R]!==void 0&&(e[R]=A[R])}),T=A.spectrum,e.margin=A.margin,e.limit=A.limit,e.padding=A.padding,e.pips?oe(e.pips):re(),e.tooltips?We():Xe(),C=[],Ee(En(h.start)?h.start:p,d),h.connect&&xt()}function xt(){for(;w.firstChild;)w.removeChild(w.firstChild);for(var h=0;h<=e.handles;h++)y[h]=me(w,e.connect[h]),Le(h);bt({drag:e.events.drag,fixed:!0})}function ke(){j=!j,Gr(e,e.connect.map(function(h){return!h})),xt()}function on(){m=Ae(u),Jt(e.connect,m),bt(e.events),Ee(e.start),e.pips&&oe(e.pips),e.tooltips&&We(),Kt()}on();var Ne={destroy:sn,steps:et,on:Qe,off:Oe,get:Ct,set:Ee,setHandle:rn,reset:Ze,disable:Xt,enable:Wt,__moveHandles:function(h,d,p){yt(h,d,C,p)},options:r,updateOptions:ve,target:u,removePips:re,removeTooltips:Xe,getPositions:function(){return C.slice()},getTooltips:function(){return O},getOrigins:function(){return v},pips:oe};return Ne}function qa(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var r=Yr(e),o=Ma(t,r,e);return t.noUiSlider=o,o}const za={__spectrum:Wr,cssClasses:Kr,create:qa};class Va{constructor(){this.modal=document.createElement("div"),this.modal.id="downloadModal",this.modal.style.cssText="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); align-items:center; justify-content:center;",this.modal.innerHTML=`
            <div class="panel" style="max-width:600px;width:90%;">
                <h3>Download luft...</h3>
                <table class="w-full my-3 text-sm">
                    <thead>
                        <tr>
                            <th class="text-left">Video</th>
                            <th class="text-left">Status</th>
                        </tr>
                    </thead>
                    <tbody id="downloadFileList"></tbody>
                </table>
                <p id="statusText" class="text-sm mb-2"></p>
                <div class="w-full h-2 bg-gray-200 rounded overflow-hidden">
                    <div id="zipProgressBar" class="h-full w-0 bg-blue-500 transition-all"></div>
                </div>
                <p id="progressText" class="text-right text-sm mt-1">0%</p>
                <button type="button" id="closeModal" class="btn mt-4 hidden">Schlieen</button>
            </div>`,document.body.appendChild(this.modal),this.fileList=this.modal.querySelector("#downloadFileList"),this.progressBar=this.modal.querySelector("#zipProgressBar"),this.progressText=this.modal.querySelector("#progressText"),this.statusText=this.modal.querySelector("#statusText"),this.closeBtn=this.modal.querySelector("#closeModal"),this.messages={queued:"Wartet...",preparing:"Bereite Dateien vor...",downloading:"Wird heruntergeladen...",downloaded:"Heruntergeladen",packing:"Wird gepackt...",ready:"Fertig"}}open(e=[]){this.fileList.innerHTML="",e.forEach(r=>{const o=document.createElement("tr");o.dataset.name=r;const a=document.createElement("td");a.textContent=r;const l=document.createElement("td");l.textContent=this.messages.queued,l.classList.add("status"),o.appendChild(a),o.appendChild(l),this.fileList.appendChild(o)}),this.progressBar.style.width="0%",this.progressText.textContent="0%",this.statusText.textContent=this.messages.queued,this.closeBtn.classList.add("hidden"),this.modal.style.display="flex"}update(e,r,o={}){if(this.progressBar.style.width=`${e}%`,this.progressText.textContent=`${e}%`,r){const a=this.messages[r]||r;this.statusText.textContent=a}Object.entries(o).forEach(([a,l])=>{let u=this.fileList.querySelector(`tr[data-name="${a}"]`);if(!u){u=document.createElement("tr"),u.dataset.name=a;const w=document.createElement("td");w.textContent=a;const v=document.createElement("td");v.classList.add("status"),u.appendChild(w),u.appendChild(v),this.fileList.appendChild(u)}const m=u.querySelector(".status");m.textContent=this.messages[l]||l})}showClose(){this.statusText.textContent="Fertig",this.closeBtn.classList.remove("hidden")}onClose(e){this.closeBtn.addEventListener("click",()=>{this.modal.style.display="none",e&&e()})}}class $a{constructor(e){this.form=e,this.selectAllBtn=document.getElementById("selectAll"),this.selectNoneBtn=document.getElementById("selectNone"),this.submitBtn=document.getElementById("zipSubmit"),this.selCountEl=document.getElementById("selCount"),this.modal=new Va,this.modal.onClose(()=>{}),this.init()}sanitizeName(e){return e.replace(/[\\/:*?"<>|]+/g,"_")}init(){var e,r,o;this.updateCount(),(e=this.selectAllBtn)==null||e.addEventListener("click",()=>this.toggleAll(!0)),(r=this.selectNoneBtn)==null||r.addEventListener("click",()=>this.toggleAll(!1)),document.addEventListener("change",a=>{var l;a.target&&((l=a.target.classList)!=null&&l.contains("pickbox"))&&this.updateCount()}),(o=this.submitBtn)==null||o.addEventListener("click",()=>this.startDownload())}toggleAll(e){document.querySelectorAll(".pickbox").forEach(r=>r.checked=e),this.updateCount()}updateCount(){const e=document.querySelectorAll(".pickbox:checked").length;this.selCountEl&&(this.selCountEl.textContent=`${e} ausgewhlt`)}async startDownload(){const e=Array.from(document.querySelectorAll(".pickbox:checked")),r=e.map(v=>v.value);if(!r.length){alert("Bitte whle mindestens ein Video aus.");return}const o=e.map(v=>{var y,_,O;return(O=(_=(y=v.closest(".card"))==null?void 0:y.querySelector(".file-name"))==null?void 0:_.textContent)==null?void 0:O.trim()}).filter(Boolean).map(v=>this.sanitizeName(v));this.modal.open(o);const a=this.form.dataset.zipPostUrl,l=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),{data:{jobId:u}}=await ee.post(a,{assignment_ids:r},{headers:{"Content-Type":"application/json","X-CSRF-TOKEN":l}});let m=!1;const w=`zip.${u}`;window.Echo.channel(w).listen(".zip.progress",async v=>{v.status==="ready"&&!m?(m=!0,this.modal.update(v.progress||0,null,v.files||{}),await this.downloadZip(u,v.name),window.Echo.leave(w)):this.modal.update(v.progress||0,v.status,v.files||{})})}async downloadZip(e,r){const o=await ee.get(`/zips/${e}/download`,{responseType:"blob"});o.status===200&&(this.modal.update(100,"ready"),this.modal.showClose(),window.location.reload());const a=new Blob([o.data],{type:"application/zip"}),l=window.URL.createObjectURL(a),u=document.createElement("a");u.href=l,u.setAttribute("download",r||`download-${e}.zip`),document.body.appendChild(u),u.click(),u.remove(),window.URL.revokeObjectURL(l)}}window.noUiSlider=za;document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("zipForm");t&&new $a(t)});
